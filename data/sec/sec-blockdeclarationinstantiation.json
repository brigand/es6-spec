{"id":"sec-blockdeclarationinstantiation","html":"\n      <h1><span class=\"secnum\" id=\"sec-13.2.14\"><a href=\"/sec/sec-blockdeclarationinstantiation.html\" title=\"link to this section\">13.2.14</a></span> Runtime Semantics: BlockDeclarationInstantiation( code, env )</h1>\n\n      <div class=\"note\">\n        <p><span class=\"nh\">NOTE</span>  When a <span class=\"nt\">Block</span> or <span class=\"nt\">CaseBlock</span> production is\n        evaluated a new declarative <a href=\"/sec/sec-environment-records.html\">Environment Record</a> is created and bindings for each\n        block scoped variable, constant, function, generator function, or class declared in the block are instantiated in the <a href=\"/sec/sec-environment-records.html\">Environment Record</a>.</p>\n      </div>\n\n      <p>BlockDeclarationInstantiation is performed as follows using arguments <var>code</var> and <var>env</var>. <var>code</var>\n      is the grammar production corresponding to the body of the block. <var>env</var> is the declarative <a href=\"/sec/sec-environment-records.html\">Environment Record</a> in which bindings are to be created.</p>\n\n      <ol class=\"proc\">\n        <li>Let <i>declarations</i> be the LexicallyScopedDeclarations of <i>code</i>.</li>\n        <li>For each element <i>d</i> in <i>declarations</i> do\n          <ol class=\"block\">\n            <li>For each element <i>dn</i> of the BoundNames of <i>d</i> do\n              <ol class=\"block\">\n                <li>If IsConstantDeclaration of <i>d</i> is <b>true</b>, then\n                  <ol class=\"block\">\n                    <li>Let <i>status</i> be <i>env</i>.CreateImmutableBinding(<i>dn</i>, <b>true</b>).</li>\n                  </ol>\n                </li>\n                <li>Else,\n                  <ol class=\"block\">\n                    <li>Let <i>status</i> be <i>env</i>.CreateMutableBinding(<i>dn</i>, <b>false</b>).</li>\n                  </ol>\n                </li>\n                <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <i>status</i> is never an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>.</li>\n              </ol>\n            </li>\n            <li>If <i>d</i> is a <i>GeneratorDeclaration</i> production or a <i>FunctionDeclaration</i> production, then\n              <ol class=\"block\">\n                <li>Let <i>fn</i> be the sole element of the BoundNames of <i>d</i></li>\n                <li>Let <i>fo</i> be the result of performing  InstantiateFunctionObject  for <i>d</i> with argument\n                    <i>env</i>.</li>\n                <li>Perform <i>env</i>.InitializeBinding(<i>fn</i>, <i>fo</i>).</li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n      </ol>\n    "}