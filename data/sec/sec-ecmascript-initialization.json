{"id":"sec-ecmascript-initialization","html":"\n    <div class=\"front\">\n      <h1><span class=\"secnum\" id=\"sec-8.5\"><a href=\"/sec/sec-ecmascript-initialization.html\" title=\"link to this section\">8.5</a></span>\n          ECMAScript Initialization()</h1>\n\n      <p>An ECMAScript implementation performs the following steps prior to the execution of any Jobs or the evaluation of any\n      ECMAScript code:</p>\n\n      <ol class=\"proc\">\n        <li>Let <i>realm</i> be <a href=\"/sec/sec-createrealm.html\">CreateRealm</a>().</li>\n        <li>Let <i>newContext</i> be a new <a href=\"/sec/sec-execution-contexts.html\">execution context</a>.</li>\n        <li>Set the Function of <i>newContext</i> to <b>null</b>.</li>\n        <li>Set the <a href=\"/sec/sec-code-realms.html\">Realm</a> of <i>newContext</i> to <i>realm</i>.</li>\n        <li>Push <i>newContext</i> onto <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a>; <i>newContext</i> is\n            now <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n        <li>Let <i>status</i> be <a href=\"/sec/sec-initializehostdefinedrealm.html\">InitializeHostDefinedRealm</a>(<i>realm</i>).</li>\n        <li>If <i>status</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, then\n          <ol class=\"block\">\n            <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: The first realm could not be created.</li>\n            <li>Terminate ECMAScript execution.</li>\n          </ol>\n        </li>\n        <li>In an implementation dependent manner, obtain the ECMAScript source texts (see <a href=\"/sec/sec-ecmascript-language-source-code.html\">clause 10</a>) for zero or more ECMAScript scripts and/or ECMAScript\n            modules. For each such  <i>sourceText</i> do,\n          <ol class=\"block\">\n            <li>If <i>sourceText</i> is the source code of a script, then\n              <ol class=\"block\">\n                <li>Perform <a href=\"/sec/sec-enqueuejob.html\">EnqueueJob</a>(<code>&quot;ScriptJobs&quot;</code>, <a href=\"/sec/sec-scriptevaluationjob.html\">ScriptEvaluationJob</a>, &#xAB; <i>sourceText</i> &#xBB;).</li>\n              </ol>\n            </li>\n            <li>Else <i>sourceText</i> is the source code of a module,\n              <ol class=\"block\">\n                <li>Perform <a href=\"/sec/sec-enqueuejob.html\">EnqueueJob</a>(<code>&quot;ScriptJobs&quot;</code>, <a href=\"/sec/sec-toplevelmoduleevaluationjob.html\">TopLevelModuleEvaluationJob</a>, &#xAB; <i>sourceText</i>\n                    &#xBB;).</li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n        <li>NextJob <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<b>undefined</b>).</li>\n      </ol>\n    </div>\n\n    <section id=\"sec-initializehostdefinedrealm\">\n      <h1><span class=\"secnum\" id=\"sec-8.5.1\"><a href=\"/sec/sec-initializehostdefinedrealm.html\" title=\"link to this section\">8.5.1</a></span> InitializeHostDefinedRealm ( realm )</h1>\n\n      <p class=\"normalbefore\">The abstract operation InitializeHostDefinedRealm with parameter <var>realm</var> performs the\n      following steps:</p>\n\n      <ol class=\"proc\">\n        <li>If this implementation requires use of an exotic object to serve as <i>realm</i>&#x2019;s global object, let\n            <i>global</i> be such an object created in an implementation defined manner. Otherwise, let <i>global</i> be\n            <b>undefined</b> indicating that an ordinary object should be created as the global object.</li>\n        <li>Perform <a href=\"/sec/sec-setrealmglobalobject.html\">SetRealmGlobalObject</a>(<i>realm</i>, <i>global</i>).</li>\n        <li>Let <i>globalObj</i> be <a href=\"/sec/sec-setdefaultglobalbindings.html\">SetDefaultGlobalBindings</a>(<i>realm</i>).</li>\n        <li><a href=\"/sec/sec-returnifabrupt.html\">ReturnIfAbrupt</a>(<i>globalObj</i>).</li>\n        <li>Create any implementation defined global object properties on <i>globalObj</i>.</li>\n        <li>Return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<b>undefined</b>).</li>\n      </ol>\n    </section>\n  "}