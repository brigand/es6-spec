{"id":"sec-function-environment-records","html":"\n        <div class=\"front\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3\"><a href=\"/sec/sec-function-environment-records.html\" title=\"link to this section\">8.1.1.3</a></span> Function Environment Records</h1>\n\n          <p>A function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> is a declarative <a href=\"/sec/sec-environment-records.html\">Environment Record</a> that is used to represent the top-level scope of a function and,\n          if the function is not an <span class=\"nt\">ArrowFunction</span>, provides a <code>this</code> binding. If a function is\n          not an <span class=\"nt\">ArrowFunction</span> function and references <code>super</code>, its function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> also contains the state that is used to perform\n          <code>super</code> method invocations from within the function.</p>\n\n          <p>Function Environment Records have the additional state fields listed in <a href=\"/sec/table-16.html\">Table 16</a>.</p>\n\n          <figure>\n            <figcaption><span id=\"table-16\">Table 16</span> &#x2014; Additional Fields of Function Environment Records</figcaption>\n            <table class=\"real-table\">\n              <tr>\n                <th>Field Name</th>\n                <th>Value</th>\n                <th>Meaning</th>\n              </tr>\n              <tr>\n                <td>[[thisValue]]</td>\n                <td>Any</td>\n                <td>This is the <span class=\"value\">this</span> value used for this invocation of the function.</td>\n              </tr>\n              <tr>\n                <td>[[thisBindingStatus]]</td>\n                <td><code>&quot;lexical&quot;</code> | <code>&quot;initialized&quot;</code> | <code>&quot;uninitialized&quot;</code></td>\n                <td>If the value is <code>&quot;lexical&quot;</code>, this is an <span class=\"nt\">ArrowFunction</span> and does not have a local this value.</td>\n              </tr>\n              <tr>\n                <td>[[FunctionObject]]</td>\n                <td>Object</td>\n                <td>The function Object whose invocation caused this <a href=\"/sec/sec-environment-records.html\">Environment Record</a> to be created.</td>\n              </tr>\n              <tr>\n                <td>[[HomeObject]]</td>\n                <td>Object | <b>undefined</b></td>\n                <td>If the associated function has <code>super</code> property accesses and is not an <span class=\"nt\">ArrowFunction</span>, [[HomeObject]] is the object that the function is bound to as a method. The default value for [[HomeObject]] is <span class=\"value\">undefined</span>.</td>\n              </tr>\n              <tr>\n                <td>[[NewTarget]]</td>\n                <td>Object | <b>undefined</b></td>\n                <td>If this <a href=\"/sec/sec-environment-records.html\">Environment Record</a> was created by the [[Construct]] internal method, [[NewTarget]] is the value of the [[Construct]] <var>newTarget</var> parameter. Otherwise, its value is <span class=\"value\">undefined</span>.</td>\n              </tr>\n            </table>\n          </figure>\n\n          <p>Function Environment Records support all of the declarative Environment Record methods listed in <a href=\"/sec/table-15.html\">Table 15</a> and share the same specifications for all of those methods except for HasThisBinding and\n          HasSuperBinding. In addition, function Environment Records support the methods listed in <a href=\"/sec/table-17.html\">Table\n          17</a>:</p>\n\n          <figure>\n            <figcaption><span id=\"table-17\">Table 17</span> &#x2014; Additional Methods of Function Environment Records</figcaption>\n            <table class=\"real-table\">\n              <tr>\n                <th>Method</th>\n                <th>Purpose</th>\n              </tr>\n              <tr>\n                <td><a href=\"/sec/sec-bindthisvalue.html\">BindThisValue</a>(V)</td>\n                <td>Set the [[thisValue]] and record that it has been initialized.</td>\n              </tr>\n              <tr>\n                <td>GetThisBinding()</td>\n                <td>Return the value of this <a href=\"/sec/sec-environment-records.html\">Environment Record</a>&#x2019;s <code>this</code> binding. Throws a <span class=\"value\">ReferenceError</span> if the <code>this</code> binding has not been initialized.</td>\n              </tr>\n              <tr>\n                <td><a href=\"/sec/sec-getsuperbase.html\">GetSuperBase</a>()</td>\n                <td>Return the object that is the base for <code>super</code> property accesses bound in this <a href=\"/sec/sec-environment-records.html\">Environment Record</a>. The object is derived from this <a href=\"/sec/sec-environment-records.html\">Environment Record</a>&#x2019;s [[HomeObject]] field. The value <span class=\"value\">undefined</span> indicates that <code>super</code> property accesses will produce runtime errors.</td>\n              </tr>\n            </table>\n          </figure>\n\n          <p>The behaviour of the additional concrete specification methods for function Environment Records is defined by the\n          following algorithms:</p>\n        </div>\n\n        <section id=\"sec-bindthisvalue\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3.1\"><a href=\"/sec/sec-bindthisvalue.html\" title=\"link to this section\">8.1.1.3.1</a></span> BindThisValue(V)</h1>\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method\n                was invoked.</li>\n            <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>:  <i>envRec</i>.[[thisBindingStatus]] is not\n                <code>&quot;lexical&quot;</code>.</li>\n            <li>If <i>envRec</i>.[[thisBindingStatus]] is <code>&quot;initialized&quot;</code>, throw a <b>ReferenceError</b>\n                exception.</li>\n            <li>Set <i>envRec</i>.[[thisValue]] to <i>V</i>.</li>\n            <li>Set <i>envRec</i>.[[thisBindingStatus]] to <code>&quot;initialized&quot;</code>.</li>\n            <li>Return <i>V</i>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-function-environment-records-hasthisbinding\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3.2\"><a href=\"/sec/sec-function-environment-records-hasthisbinding.html\" title=\"link to this section\">8.1.1.3.2</a></span> HasThisBinding ()</h1>\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method\n                was invoked.</li>\n            <li>If <i>envRec</i>.[[thisBindingStatus]] is <code>&quot;lexical&quot;</code>, return <b>false</b>; otherwise, return\n                <b>true</b>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-function-environment-records-hassuperbinding\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3.3\"><a href=\"/sec/sec-function-environment-records-hassuperbinding.html\" title=\"link to this section\">8.1.1.3.3</a></span> HasSuperBinding ()</h1>\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method\n                was invoked.</li>\n            <li>If <i>envRec</i>.[[thisBindingStatus]] is <code>&quot;lexical&quot;</code>, return <b>false</b>.</li>\n            <li>If <i>envRec</i>.[[HomeObject]] has the value <b>undefined</b>, return <b>false</b>, otherwise, return\n                <b>true</b>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-function-environment-records-getthisbinding\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3.4\"><a href=\"/sec/sec-function-environment-records-getthisbinding.html\" title=\"link to this section\">8.1.1.3.4</a></span> GetThisBinding ()</h1>\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method\n                was invoked.</li>\n            <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>:  <i>envRec</i>.[[thisBindingStatus]] is not\n                <code>&quot;lexical&quot;</code>.</li>\n            <li>If <i>envRec</i>.[[thisBindingStatus]] is <code>&quot;uninitialized&quot;</code>, throw a <b>ReferenceError</b>\n                exception.</li>\n            <li>Return <i>envRec</i>.[[thisValue]].</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-getsuperbase\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.3.5\"><a href=\"/sec/sec-getsuperbase.html\" title=\"link to this section\">8.1.1.3.5</a></span> GetSuperBase ()</h1>\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method\n                was invoked.</li>\n            <li>Let <i>home</i> be the value of <i>envRec</i>.[[HomeObject]].</li>\n            <li>If <i>home</i> has the value <b>undefined</b>, return <b>undefined</b>.</li>\n            <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <a href=\"/sec/sec-ecmascript-data-types-and-values.html\">Type</a>(<i>home</i>) is Object.</li>\n            <li>Return <i>home.</i>[[GetPrototypeOf]]().</li>\n          </ol>\n        </section>\n      "}