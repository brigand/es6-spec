{"id":"sec-newfunctionenvironment","html":"\n        <h1><span class=\"secnum\" id=\"sec-8.1.2.4\"><a href=\"/sec/sec-newfunctionenvironment.html\" title=\"link to this section\">8.1.2.4</a></span> NewFunctionEnvironment ( F, newTarget )</h1>\n\n        <p class=\"normalbefore\">When the abstract operation NewFunctionEnvironment is called with arguments <var>F</var> and\n        <var>newTarget</var> the following steps are performed:</p>\n\n        <ol class=\"proc\">\n          <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <i>F</i> is an ECMAScript function.</li>\n          <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <a href=\"/sec/sec-ecmascript-data-types-and-values.html\">Type</a>(<i>newTarget</i>) is Undefined or Object.</li>\n          <li>Let <i>env</i> be a new <a href=\"/sec/sec-lexical-environments.html\">Lexical Environment</a>.</li>\n          <li>Let <i>envRec</i> be a new function <a href=\"/sec/sec-environment-records.html\">Environment Record</a> containing no\n              bindings.</li>\n          <li>Set <i>envRec</i>.[[FunctionObject]] to <i>F</i>.</li>\n          <li>If <i>F&#x2019;s</i> [[ThisMode]] <a href=\"/sec/sec-object-internal-methods-and-internal-slots.html\">internal slot</a> is\n              <span style=\"font-family: sans-serif\">lexical</span>, set <i>envRec</i>.[[thisBindingStatus]] to\n              <code>&quot;lexical&quot;</code>.</li>\n          <li>Else, Set <i>envRec</i>.[[thisBindingStatus]] to <code>&quot;uninitialized&quot;</code>.</li>\n          <li>Let <i>home</i> be the value of <i>F&#x2019;s</i> [[HomeObject]] <a href=\"/sec/sec-object-internal-methods-and-internal-slots.html\">internal slot</a>.</li>\n          <li>Set <i>envRec</i>.[[HomeObject]] to <i>home</i>.</li>\n          <li>Set <i>envRec</i>.[[NewTarget]] to  <i>newTarget</i>.</li>\n          <li>Set <i>env&#x2019;s</i> <a href=\"/sec/sec-lexical-environments.html\">EnvironmentRecord</a> to be <i>envRec</i>.</li>\n          <li>Set the <a href=\"/sec/sec-lexical-environments.html\">outer lexical environment reference</a> of <i>env</i> to the value of\n              <i>F&#x2019;s</i> [[Environment]] <a href=\"/sec/sec-object-internal-methods-and-internal-slots.html\">internal slot</a>.</li>\n          <li>Return <i>env</i>.</li>\n        </ol>\n      "}