{"id":"sec-object-environment-records","html":"\n        <div class=\"front\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2\"><a href=\"/sec/sec-object-environment-records.html\" title=\"link to this section\">8.1.1.2</a></span> Object Environment Records</h1>\n\n          <p>Each object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> is associated with an object called its\n          <i>binding object</i>. An object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> binds the set of string\n          identifier names that directly correspond to the property names of its binding object. Property keys that are not\n          strings in the form of an <span class=\"nt\">IdentifierName</span> are not included in the set of bound identifiers. Both\n          own and inherited properties are included in the set regardless of the setting of their [[Enumerable]] attribute.\n          Because properties can be dynamically added and deleted from objects, the set of identifiers bound by an object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> may potentially change as a side-effect of any operation that\n          adds or deletes properties. Any bindings that are created as a result of such a side-effect are considered to be a\n          mutable binding even if the Writable attribute of the corresponding property has the value <b>false</b>. Immutable\n          bindings do not exist for object Environment Records.</p>\n\n          <p>Object Environment Records created for <code>with</code> statements (<a href=\"/sec/sec-with-statement.html\">13.11</a>) can\n          provide their binding object as an implicit <b>this</b> value for use in function calls. The capability is controlled by\n          a <var>withEnvironment</var> Boolean value that is associated with each object <a href=\"/sec/sec-environment-records.html\">Environment Record</a>. By default, the value of <var>withEnvironment</var> is\n          <b>false</b> for any object <a href=\"/sec/sec-environment-records.html\">Environment Record</a>.</p>\n\n          <p>The behaviour of the concrete specification methods for object Environment Records is defined by the following\n          algorithms.</p>\n        </div>\n\n        <section id=\"sec-object-environment-records-hasbinding-n\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.1\"><a href=\"/sec/sec-object-environment-records-hasbinding-n.html\" title=\"link to this section\">8.1.1.2.1</a></span> HasBinding(N)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method HasBinding for\n          object Environment Records determines if its associated binding object has a property whose name is the value of the\n          argument <var>N</var>:</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>Let <i>bindings</i> be the binding object for <i>envRec</i>.</li>\n            <li>Let <i>foundBinding</i> be <a href=\"/sec/sec-hasproperty.html\">HasProperty</a>(<i>bindings</i>, <i>N</i>)</li>\n            <li><a href=\"/sec/sec-returnifabrupt.html\">ReturnIfAbrupt</a>(<i>foundBinding</i>).</li>\n            <li>If <i>foundBinding</i> is <b>false</b>, return <b>false</b>.</li>\n            <li>If the <i>withEnvironment</i> flag of <i>envRec</i> is <b>false</b>, return <b>true</b>.</li>\n            <li>Let <i>unscopables</i> be <a href=\"/sec/sec-get-o-p.html\">Get</a>(<i>bindings</i>, @@unscopables).</li>\n            <li><a href=\"/sec/sec-returnifabrupt.html\">ReturnIfAbrupt</a>(<i>unscopables</i>).</li>\n            <li>If <a href=\"/sec/sec-ecmascript-data-types-and-values.html\">Type</a>(<i>unscopables</i>) is Object, then\n              <ol class=\"block\">\n                <li>Let <i>blocked</i> be <a href=\"/sec/sec-toboolean.html\">ToBoolean</a>(<a href=\"/sec/sec-get-o-p.html\">Get</a>(<i>unscopables</i>, <i>N</i>)).</li>\n                <li><a href=\"/sec/sec-returnifabrupt.html\">ReturnIfAbrupt</a>(<i>blocked</i>).</li>\n                <li>If <i>blocked</i> is <b>true</b>, return <b>false</b>.</li>\n              </ol>\n            </li>\n            <li>Return <b>true</b>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-createmutablebinding-n-d\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.2\"><a href=\"/sec/sec-object-environment-records-createmutablebinding-n-d.html\" title=\"link to this section\">8.1.1.2.2</a></span> CreateMutableBinding (N, D)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method\n          CreateMutableBinding for object Environment Records creates in an Environment Record&#x2019;s associated binding object a\n          property whose name is the String value and initializes it to the value <b>undefined</b>. If Boolean argument\n          <var>D</var> is provided and has the value <b>true</b> the new property&#x2019;s [[Configurable]] attribute is set to\n          <b>true</b>, otherwise it is set to <b>false</b>.</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>Let <i>bindings</i> be the binding object for <i>envRec</i>.</li>\n            <li>If <i>D</i> is <b>true</b> then let <i>configValue</i> be <b>true</b> otherwise let <i>configValue</i> be\n                <b>false</b>.</li>\n            <li>Return <a href=\"/sec/sec-definepropertyorthrow.html\">DefinePropertyOrThrow</a>(<i>bindings</i>, <i>N</i>,\n                PropertyDescriptor{[[Value]]:<b>undefined</b>, [[Writable]]: <b>true</b>, [[Enumerable]]: <b>true</b> ,\n                [[Configurable]]: <i>configValue</i>}).</li>\n          </ol>\n\n          <div class=\"note\">\n            <p><span class=\"nh\">NOTE</span> Normally <i>envRec</i> will not have a binding for <i>N</i> but if it does, the\n            semantics of <a href=\"/sec/sec-definepropertyorthrow.html\">DefinePropertyOrThrow</a> may result in an existing binding being\n            replaced or shadowed or cause an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a> to be\n            returned.</p>\n          </div>\n        </section>\n\n        <section id=\"sec-object-environment-records-createimmutablebinding-n-s\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.3\"><a href=\"/sec/sec-object-environment-records-createimmutablebinding-n-s.html\" title=\"link to this section\">8.1.1.2.3</a></span> CreateImmutableBinding (N, S)</h1>\n\n          <p>The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method CreateImmutableBinding is never used\n          within this specification in association with Object Environment Records.</p>\n        </section>\n\n        <section id=\"sec-object-environment-records-initializebinding-n-v\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.4\"><a href=\"/sec/sec-object-environment-records-initializebinding-n-v.html\" title=\"link to this section\">8.1.1.2.4</a></span> InitializeBinding (N,V)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method InitializeBinding\n          for object Environment Records is used to set the bound value of the current binding of the identifier whose name is the\n          value of the argument <var>N</var> to the value of argument <var>V</var>. An uninitialized binding for <var>N</var> must\n          already exist.</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <i>envRec</i> must have an uninitialized binding for\n                <i>N</i>.</li>\n            <li>Record that the binding for <i>N</i> in <i>envRec</i> has been initialized.</li>\n            <li>Return <i>envRec</i>.SetMutableBinding(<i>N</i>, <i>V</i>, <b>false</b>).</li>\n          </ol>\n\n          <div class=\"note\">\n            <p><span class=\"nh\">NOTE</span> In this specification, all uses of CreateMutableBinding for object Environment Records\n            are immediately followed by a call to InitializeBinding for the same name. Hence, implementations do not need to\n            explicitly track the initialization state of individual object Environment Record bindings.</p>\n          </div>\n        </section>\n\n        <section id=\"sec-object-environment-records-setmutablebinding-n-v-s\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.5\"><a href=\"/sec/sec-object-environment-records-setmutablebinding-n-v-s.html\" title=\"link to this section\">8.1.1.2.5</a></span> SetMutableBinding (N,V,S)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method SetMutableBinding\n          for object Environment Records attempts to set the value of the Environment Record&#x2019;s associated binding\n          object&#x2019;s property whose name is the value of the argument <var>N</var> to the value of argument <var>V</var>. A\n          property named <var>N</var> normally already exists but if it does not or is not currently writable, error handling is\n          determined by the value of the Boolean argument <var>S</var>.</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>Let <i>bindings</i> be the binding object for <i>envRec</i>.</li>\n            <li>Return <a href=\"/sec/sec-set-o-p-v-throw.html\">Set</a>(<i>bindings</i>, <i>N</i>, <i>V</i>, <i>S</i>).</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-getbindingvalue-n-s\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.6\"><a href=\"/sec/sec-object-environment-records-getbindingvalue-n-s.html\" title=\"link to this section\">8.1.1.2.6</a></span> GetBindingValue(N,S)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method GetBindingValue\n          for object Environment Records returns the value of its associated binding object&#x2019;s property whose name is the\n          String value of the argument identifier <var>N</var>. The property should already exist but if it does not the result\n          depends upon the value of the <var>S</var> argument:</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>Let <i>bindings</i> be the binding object for <i>envRec</i>.</li>\n            <li>Let <i>value</i> be <a href=\"/sec/sec-hasproperty.html\">HasProperty</a>(<i>bindings</i>, <i>N</i>).</li>\n            <li><a href=\"/sec/sec-returnifabrupt.html\">ReturnIfAbrupt</a>(<i>value</i>).</li>\n            <li>If <i>value</i> is <b>false</b>, then\n              <ol class=\"block\">\n                <li>If <i>S</i> is <b>false</b>, return the value <b>undefined</b>, otherwise throw a <b>ReferenceError</b>\n                    exception.</li>\n              </ol>\n            </li>\n            <li>Return <a href=\"/sec/sec-get-o-p.html\">Get</a>(<i>bindings</i>, <i>N</i>).</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-deletebinding-n\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.7\"><a href=\"/sec/sec-object-environment-records-deletebinding-n.html\" title=\"link to this section\">8.1.1.2.7</a></span> DeleteBinding (N)</h1>\n\n          <p class=\"normalbefore\">The concrete <a href=\"/sec/sec-environment-records.html\">Environment Record</a> method DeleteBinding for\n          object Environment Records can only delete bindings that correspond to properties of the environment object whose\n          [[Configurable]] attribute have the value <b>true</b>.</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>Let <i>bindings</i> be the binding object for <i>envRec</i>.</li>\n            <li>Return <i>bindings</i>.[[Delete]](<i>N</i>).</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-hasthisbinding\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.8\"><a href=\"/sec/sec-object-environment-records-hasthisbinding.html\" title=\"link to this section\">8.1.1.2.8</a></span> HasThisBinding ()</h1>\n\n          <p class=\"normalbefore\">Regular object Environment Records do not provide a <code>this</code> binding.</p>\n\n          <ol class=\"proc\">\n            <li>Return <b>false</b>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-hassuperbinding\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.9\"><a href=\"/sec/sec-object-environment-records-hassuperbinding.html\" title=\"link to this section\">8.1.1.2.9</a></span> HasSuperBinding ()</h1>\n\n          <p class=\"normalbefore\">Regular object Environment Records do not provide a <code>super</code> binding.</p>\n\n          <ol class=\"proc\">\n            <li>Return <b>false</b>.</li>\n          </ol>\n        </section>\n\n        <section id=\"sec-object-environment-records-withbaseobject\">\n          <h1><span class=\"secnum\" id=\"sec-8.1.1.2.10\"><a href=\"/sec/sec-object-environment-records-withbaseobject.html\" title=\"link to this section\">8.1.1.2.10</a></span> WithBaseObject()</h1>\n\n          <p class=\"normalbefore\">Object Environment Records return <b>undefined</b> as their WithBaseObject unless their\n          <var>withEnvironment</var> flag is <b>true</b>.</p>\n\n          <ol class=\"proc\">\n            <li>Let <i>envRec</i> be the object <a href=\"/sec/sec-environment-records.html\">Environment Record</a> for which the method was\n                invoked.</li>\n            <li>If the <i>withEnvironment</i> flag of <i>envRec</i> is <b>true</b>, return the binding object for\n                <i>envRec</i>.</li>\n            <li>Otherwise, return <b>undefined</b>.</li>\n          </ol>\n        </section>\n      "}