{"id":"sec-preparefortailcall","html":"\n      <h1><span class=\"secnum\" id=\"sec-14.6.3\"><a href=\"/sec/sec-preparefortailcall.html\" title=\"link to this section\">14.6.3</a></span>\n          Runtime Semantics: PrepareForTailCall ( )</h1>\n\n      <p class=\"normalbefore\">The abstract operation PrepareForTailCall performs the following steps:</p>\n\n      <ol class=\"proc\">\n        <li>Let <i>leafContext</i> be <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n        <li><a href=\"/sec/sec-execution-contexts.html\">Suspend</a> <i>leafContext</i>.</li>\n        <li>Pop <i>leafContext</i> from <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a>. The <a href=\"/sec/sec-execution-contexts.html\">execution context</a> now on the top of the stack becomes <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n        <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <i>leafContext</i> has no further use. It will never be activated as\n            <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n      </ol>\n\n      <p>A tail position call must either release any transient internal resources associated with the currently executing\n      function <a href=\"/sec/sec-execution-contexts.html\">execution context</a> before invoking the target function or reuse those\n      resources in support of the target function.</p>\n\n      <div class=\"note\">\n        <p><span class=\"nh\">NOTE</span> For example, a tail position call should only grow an implementation&#x2019;s activation\n        record stack by the amount that the size of the target function&#x2019;s activation record exceeds the size of the calling\n        function&#x2019;s activation record. If the target function&#x2019;s activation record is smaller, then the total size of\n        the stack should decrease.</p>\n      </div>\n    "}