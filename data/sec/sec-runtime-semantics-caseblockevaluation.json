{"id":"sec-runtime-semantics-caseblockevaluation","html":"\n      <h1><span class=\"secnum\" id=\"sec-13.12.9\"><a href=\"/sec/sec-runtime-semantics-caseblockevaluation.html\" title=\"link to this section\">13.12.9</a></span> Runtime Semantics: CaseBlockEvaluation</h1>\n\n      <p>With argument <var>input</var>.</p>\n\n      <div class=\"gp prod\"><span class=\"nt\">CaseBlock</span> <span class=\"geq\">:</span> <code class=\"t\">{</code> <code class=\"t\">}</code></div>\n      <ol class=\"proc\">\n        <li>Return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<b>undefined</b>).</li>\n      </ol>\n      <div class=\"gp prod\"><span class=\"nt\">CaseBlock</span> <span class=\"geq\">:</span> <code class=\"t\">{</code> <span class=\"nt\">CaseClauses</span> <code class=\"t\">}</code></div>\n      <ol class=\"proc\">\n        <li>Let <i>V</i> = <b>undefined</b>.</li>\n        <li>Let <i>A</i> be the <a href=\"/sec/sec-list-and-record-specification-type.html\">List</a> of <i>CaseClause</i> items in\n            <i>CaseClauses</i>, in source text order.</li>\n        <li>Let <i>found</i> be <b>false</b>.</li>\n        <li>Repeat for each <i>CaseClause</i> <i>C</i> in <i>A</i>,\n          <ol class=\"block\">\n            <li>If <i>found</i> is <b>false</b>, then\n              <ol class=\"block\">\n                <li>Let <i>clauseSelector</i> be the result of CaseSelectorEvaluation of <i>C</i>.</li>\n                <li>If <i>clauseSelector</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, then\n                  <ol class=\"block\">\n                    <li>If <i>clauseSelector</i>.[[value]] is <span style=\"font-family: sans-serif\">empty</span>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>{[[type]]: <i>clauseSelector</i>.[[type]],\n                        [[value]]:  <b>undefined</b>, [[target]]:  <i>clauseSelector</i>.[[target]]}.</li>\n                    <li>Else, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<i>clauseSelector</i>).</li>\n                  </ol>\n                </li>\n                <li>Let <i>found</i> be the result of performing Strict Equality Comparison <i>input</i> ===\n                    <i>clauseSelector</i>.[[value]].</li>\n              </ol>\n            </li>\n            <li>If <i>found</i> is <b>true</b>, then\n              <ol class=\"block\">\n                <li>Let <i>R</i> be the result of evaluating <i>C</i>.</li>\n                <li>If <i>R</i>.[[value]] is not <span style=\"font-family: sans-serif\">empty</span>, let <i>V</i> =\n                    <i>R</i>.[[value]].</li>\n                <li>If <i>R</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<a href=\"/sec/sec-updateempty.html\">UpdateEmpty</a>(<i>R</i>, <i>V</i>)).</li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n        <li>Return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<i>V</i>).</li>\n      </ol>\n      <div class=\"gp prod\"><span class=\"nt\">CaseBlock</span> <span class=\"geq\">:</span> <code class=\"t\">{</code> <span class=\"nt\">CaseClauses</span><sub class=\"g-opt\">opt</sub> <span class=\"nt\">DefaultClause</span> <span class=\"nt\">CaseClauses</span><sub class=\"g-opt\">opt</sub> <code class=\"t\">}</code></div>\n      <ol class=\"proc\">\n        <li>Let <i>V</i> = <b>undefined</b>.</li>\n        <li>Let <i>A</i> be the list of <i>CaseClause</i> items in the first <i>CaseClauses</i>, in source text order. If the\n            first <i>CaseClauses</i> is not present <i>A</i> is &#xAB; &#xBB;.</li>\n        <li>Let <i>found</i> be <b>false</b>.</li>\n        <li>Repeat for each <i>CaseClause</i> <i>C</i> in <i>A</i>\n          <ol class=\"block\">\n            <li>If <i>found</i> is <b>false</b>, then\n              <ol class=\"block\">\n                <li>Let <i>clauseSelector</i> be the result of CaseSelectorEvaluation of <i>C</i>.</li>\n                <li>If <i>clauseSelector</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, then\n                  <ol class=\"block\">\n                    <li>If <i>clauseSelector</i>.[[value]] is <span style=\"font-family: sans-serif\">empty</span>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>{[[type]]: <i>clauseSelector</i>.[[type]],\n                        [[value]]:  <b>undefined</b>, [[target]]:  <i>clauseSelector</i>.[[target]]}.</li>\n                    <li>Else, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<i>clauseSelector</i>).</li>\n                  </ol>\n                </li>\n                <li>Let <i>found</i> be the result of performing Strict Equality Comparison <i>input</i> ===\n                    <i>clauseSelector</i>.[[value]].</li>\n              </ol>\n            </li>\n            <li>If <i>found</i> is <b>true</b>, then\n              <ol class=\"block\">\n                <li>Let <i>R</i> be the result of evaluating <i>C</i>.</li>\n                <li>If <i>R</i>.[[value]] is not <span style=\"font-family: sans-serif\">empty</span>, let <i>V</i> =\n                    <i>R</i>.[[value]].</li>\n                <li>If <i>R</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<a href=\"/sec/sec-updateempty.html\">UpdateEmpty</a>(<i>R</i>, <i>V</i>)).</li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n        <li>Let <i>foundInB</i> be <b>false</b>.</li>\n        <li>Let <i>B</i> be the <a href=\"/sec/sec-list-and-record-specification-type.html\">List</a> containing the <i>CaseClause</i> items\n            in the second <i>CaseClauses</i>, in source text order. If the second <i>CaseClauses</i> is not present <i>B</i> is\n            &#xAB; &#xBB;.</li>\n        <li>If <i>found</i> is <b>false</b>, then\n          <ol class=\"block\">\n            <li>Repeat for  each <i>CaseClause C</i> in <i>B</i>\n              <ol class=\"block\">\n                <li>If <i>foundInB</i> is <b>false</b>, then\n                  <ol class=\"block\">\n                    <li>Let <i>clauseSelector</i> be the result of CaseSelectorEvaluation of <i>C</i>.</li>\n                    <li>If <i>clauseSelector</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>,\n                        then\n                      <ol class=\"block\">\n                        <li>If <i>clauseSelector</i>.[[value]] is <span style=\"font-family: sans-serif\">empty</span>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>{[[type]]:\n                            <i>clauseSelector</i>.[[type]], [[value]]: <b>undefined</b>, [[target]]:\n                            <i>clauseSelector</i>.[[target]]}.</li>\n                        <li>Else, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<i>clauseSelector</i>).</li>\n                      </ol>\n                    </li>\n                    <li>Let <i>foundInB</i> be the result of performing Strict Equality Comparison <i>input</i> ===\n                        <i>clauseSelector</i>.[[value]].</li>\n                  </ol>\n                </li>\n                <li>If <i>foundInB</i> is <b>true</b>, then\n                  <ol class=\"block\">\n                    <li>Let <i>R</i> be the result of evaluating <i>CaseClause C</i>.</li>\n                    <li>If <i>R</i>.[[value]] is not <span style=\"font-family: sans-serif\">empty</span>, let <i>V</i> =\n                        <i>R</i>.[[value]].</li>\n                    <li>If <i>R</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<a href=\"/sec/sec-updateempty.html\">UpdateEmpty</a>(<i>R</i>, <i>V</i>)).</li>\n                  </ol>\n                </li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n        <li>If <i>foundInB</i> is <b>true</b>, return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<i>V</i>).</li>\n        <li>Let <i>R</i> be the result of evaluating <i>DefaultClause</i>.</li>\n        <li>If <i>R</i>.[[value]] is not <span style=\"font-family: sans-serif\">empty</span>, let <i>V</i> =\n            <i>R</i>.[[value]].</li>\n        <li>If <i>R</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<a href=\"/sec/sec-updateempty.html\">UpdateEmpty</a>(<i>R</i>,\n            <i>V</i>)).</li>\n        <li>Repeat for each <i>CaseClause C</i> in <i>B</i> (NOTE  this is another complete iteration of the second\n            <i>CaseClauses</i>)\n          <ol class=\"block\">\n            <li>Let <i>R</i> be the result of evaluating <i>CaseClause</i> <i>C</i>.</li>\n            <li>If <i>R</i>.[[value]] is not <span style=\"font-family: sans-serif\">empty</span>, let <i>V</i> =\n                <i>R</i>.[[value]].</li>\n            <li>If <i>R</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<a href=\"/sec/sec-updateempty.html\">UpdateEmpty</a>(<i>R</i>, <i>V</i>)).</li>\n          </ol>\n        </li>\n        <li>Return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<i>V</i>).</li>\n      </ol>\n    "}