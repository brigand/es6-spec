{"id":"sec-runtime-semantics-charactersetmatcher-abstract-operation","html":"\n          <h1><span class=\"secnum\" id=\"sec-21.2.2.8.1\"><a href=\"/sec/sec-runtime-semantics-charactersetmatcher-abstract-operation.html\" title=\"link to this section\">21.2.2.8.1</a></span> Runtime Semantics: CharacterSetMatcher Abstract Operation</h1>\n\n          <p class=\"normalbefore\">The abstract operation CharacterSetMatcher takes two arguments, a CharSet <var>A</var> and a\n          Boolean flag <var>invert</var>, and performs the following steps:</p>\n\n          <ol class=\"proc\">\n            <li>Return an internal Matcher closure that takes two arguments, a State <i>x</i> and a Continuation <i>c</i>, and\n                performs the following steps when evaluated:\n              <ol class=\"nested proc\">\n                <li>Let <i>e</i> be <i>x</i>&apos;s <i>endIndex</i>.</li>\n                <li>If <i>e</i> is <i>InputLength</i>, return <b>failure</b>.</li>\n                <li>Let <i>ch</i> be the character <i>Input</i>[<i>e</i>].</li>\n                <li>Let <i>cc</i> be Canonicalize(<i>ch</i>).</li>\n                <li>If <i>invert</i> is <b>false</b>, then\n                  <ol class=\"block\">\n                    <li>If there does not exist a member <i>a</i> of set <i>A</i> such that Canonicalize(<i>a</i>) is <i>cc</i>,\n                        return <b>failure</b>.</li>\n                  </ol>\n                </li>\n                <li>Else <i>invert</i> is <b>true</b>,\n                  <ol class=\"block\">\n                    <li>If there exists a member <i>a</i> of set <i>A</i> such that Canonicalize(<i>a</i>) is <i>cc</i>, return\n                        <b>failure.</b></li>\n                  </ol>\n                </li>\n                <li>Let <i>cap</i> be <i>x</i>&apos;s <i>captures</i> <a href=\"/sec/sec-list-and-record-specification-type.html\">List</a>.</li>\n                <li>Let <i>y</i> be the State (<i>e</i>+1, <i>cap</i>).</li>\n                <li><a href=\"/sec/sec-call.html\">Call</a> <i>c</i>(<i>y</i>) and return its result.</li>\n              </ol>\n            </li>\n          </ol>\n        "}