{"id":"sec-runtime-semantics-scriptevaluation","html":"\n      <h1><span class=\"secnum\" id=\"sec-15.1.7\"><a href=\"/sec/sec-runtime-semantics-scriptevaluation.html\" title=\"link to this section\">15.1.7</a></span> Runtime Semantics: ScriptEvaluation</h1>\n\n      <p>With argument <var>realm</var>.</p>\n\n      <div class=\"gp prod\"><span class=\"nt\">Script</span> <span class=\"geq\">:</span> <span class=\"nt\">ScriptBody</span><sub class=\"g-opt\">opt</sub></div>\n      <ol class=\"proc\">\n        <li>If <i>ScriptBody</i> is not present, return <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<span style=\"font-family: sans-serif\">empty</span>).</li>\n        <li>Let <i>globalEnv</i> be <i>realm</i>.[[globalEnv]].</li>\n        <li>Let <i>scriptCxt</i> be a new <a href=\"/sec/sec-execution-contexts.html\">ECMAScript code execution context</a>.</li>\n        <li>Set the Function of <i>scriptCxt</i> to <b>null</b>.</li>\n        <li>Set the <a href=\"/sec/sec-code-realms.html\">Realm</a> of <i>scriptCxt</i> to <i>realm</i>.</li>\n        <li>Set the <a href=\"/sec/sec-execution-contexts.html\">VariableEnvironment</a> of <i>scriptCxt</i> to <i>globalEnv</i>.</li>\n        <li>Set the <a href=\"/sec/sec-execution-contexts.html\">LexicalEnvironment</a> of <i>scriptCxt</i> to <i>globalEnv</i>.</li>\n        <li><a href=\"/sec/sec-execution-contexts.html\">Suspend</a> <a href=\"/sec/sec-execution-contexts.html\">the currently running execution\n            context</a>.</li>\n        <li>Push <i>scriptCxt</i> on to <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a>; <i>scriptCxt</i> is now\n            <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n        <li>Let <i>result</i> be <a href=\"/sec/sec-globaldeclarationinstantiation.html\">GlobalDeclarationInstantiation</a>(<i>ScriptBody</i>,\n            <i>globalEnv</i>).</li>\n        <li>If <i>result</i>.[[type]] is <span style=\"font-family: sans-serif\">normal</span>, then\n          <ol class=\"block\">\n            <li>Let <i>result</i> be the result of evaluating <i>ScriptBody</i>.</li>\n          </ol>\n        </li>\n        <li>If <i>result</i>.[[type]] is <span style=\"font-family: sans-serif\">normal</span> and <i>result</i>.[[value]] is <span style=\"font-family: sans-serif\">empty</span>, then\n          <ol class=\"block\">\n            <li>Let <i>result</i> be <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<b>undefined</b>).</li>\n          </ol>\n        </li>\n        <li><a href=\"/sec/sec-execution-contexts.html\">Suspend</a> <i>scriptCxt</i> and remove it from <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a>.</li>\n        <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a> is\n            not empty.</li>\n        <li>Resume the context that is now on the top of <a href=\"/sec/sec-execution-contexts.html\">the execution context stack</a> as <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>.</li>\n        <li>Return <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<i>result</i>).</li>\n      </ol>\n    "}