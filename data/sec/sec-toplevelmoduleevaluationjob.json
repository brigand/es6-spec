{"id":"sec-toplevelmoduleevaluationjob","html":"\n        <h1><span class=\"secnum\" id=\"sec-15.2.1.19\"><a href=\"/sec/sec-toplevelmoduleevaluationjob.html\" title=\"link to this section\">15.2.1.19</a></span> Runtime Semantics: TopLevelModuleEvaluationJob ( sourceText)</h1>\n\n        <p class=\"normalbefore\">A TopLevelModuleEvaluationJob with parameter <var>sourceText</var> is a job that parses,\n        validates, and evaluates <var>sourceText</var> as a <span class=\"nt\">Module</span>.</p>\n\n        <ol class=\"proc\">\n          <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: <i>sourceText</i> is an ECMAScript source text (see <a href=\"/sec/sec-ecmascript-language-source-code.html\">clause 10</a>).</li>\n          <li>Let <i>realm</i> be <a href=\"/sec/sec-execution-contexts.html\">the running execution context</a>&#x2019;s <a href=\"/sec/sec-code-realms.html\">Realm</a>.</li>\n          <li>Let <i>m</i> be <a href=\"/sec/sec-parsemodule.html\">ParseModule</a>(<i>sourceText</i>).</li>\n          <li>If <i>m</i> is an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a> or any other\n              implementation defined error indication, then\n            <ol class=\"block\">\n              <li>Report or log the error(s) in an implementation dependent manner.</li>\n              <li>NextJob <a href=\"/sec/sec-normalcompletion.html\">NormalCompletion</a>(<b>undefined</b>).</li>\n            </ol>\n          </li>\n          <li>Set <i>m</i>.[[Realm]] to <i>realm</i>.</li>\n          <li>Let <i>status</i> be <i>m</i>.<a href=\"/sec/sec-moduledeclarationinstantiation.html\">ModuleDeclarationInstantiation</a>().</li>\n          <li>If <i>status</i> is not an <a href=\"/sec/sec-completion-record-specification-type.html\">abrupt completion</a>, then\n            <ol class=\"block\">\n              <li><a href=\"/sec/sec-algorithm-conventions.html\">Assert</a>: all dependencies of <i>m</i> have been transitively resolved\n                  and <i>m</i> is ready for evaluation.</li>\n              <li>Let <i>status</i> be <i>m</i>.<a href=\"/sec/sec-moduleevaluation.html\">ModuleEvaluation</a>().</li>\n            </ol>\n          </li>\n          <li>NextJob <a href=\"/sec/sec-completion-record-specification-type.html\">Completion</a>(<i>status</i>).</li>\n        </ol>\n\n        <div class=\"note\">\n          <p><span class=\"nh\">NOTE</span> An implementation may parse a <var>sourceText</var> as a <var>Module,</var> analyze it\n          for Early Error conditions, and instantiate it prior to the execution of the TopLevelModuleEvaluationJob for that\n          <var>sourceText</var>. An implementation may also resolve, pre-parse and pre-analyze, and pre-instantiate module\n          dependencies of <span style=\"font-family: Times New Roman\"><i>sourceText</i>.</span> However, the reporting of any\n          errors detected by these actions must be deferred until the TopLevelModuleEvaluationJob is actually executed.</p>\n        </div>\n      "}