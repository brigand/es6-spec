<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>ECMA262 2015</title>
  <meta name="description" content="Easy to search ecmascript spec">
  <meta name="author" content="TC-39">

  <link rel="stylesheet" href="/src/es6.css">
  <link rel="stylesheet" href="/src/client.css">
</head>

<body>
  <div id="Root">
    <div class="SearchWrapper">
      <input class="SearchInput" placeholder="Search">
      <div class="SearchItems">
      </div>
  </div>
  <div id="content">
    
    <div class="front">
      <h1><span class="secnum" id="sec-9.2"><a href="/sec/sec-ecmascript-function-objects.html" title="link to this section">9.2</a></span>
          ECMAScript Function Objects</h1>

      <p>ECMAScript function objects encapsulate parameterized ECMAScript code closed over a <a href="/sec/sec-lexical-environments.html">lexical environment</a> and support the dynamic evaluation of that code. An ECMAScript
      function object is an ordinary object and has the same internal slots and the same internal methods as other ordinary
      objects. The code of an ECMAScript function object may be either <a href="/sec/sec-strict-mode-code.html">strict mode code</a> (<a href="/sec/sec-strict-mode-code.html">10.2.1</a>) or non-<a href="/sec/sec-strict-mode-code.html">strict mode code</a>. An ECMAScript function
      object whose code is <a href="/sec/sec-strict-mode-code.html">strict mode code</a> is called a <i>strict function</i>. One whose code
      is not <a href="/sec/sec-strict-mode-code.html">strict mode code</a> is called a <i>non-strict function</i>.</p>

      <p>ECMAScript function objects have the additional internal slots listed in <a href="/sec/table-27.html">Table 27</a>.</p>

      <figure>
        <figcaption><span id="table-27">Table 27</span> &#x2014; Internal Slots of ECMAScript Function Objects</figcaption>
        <table class="real-table">
          <tr>
            <th>Internal Slot</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>[[Environment]]</td>
            <td><a href="/sec/sec-lexical-environments.html">Lexical Environment</a></td>
            <td>The <a href="/sec/sec-lexical-environments.html">Lexical Environment</a> that the function was closed over. Used as the outer environment when evaluating the code of the function.</td>
          </tr>
          <tr>
            <td>[[FormalParameters]]</td>
            <td>Parse Node</td>
            <td>The root parse node of the source text that defines the function&#x2019;s formal parameter list.</td>
          </tr>
          <tr>
            <td>[[FunctionKind]]</td>
            <td>String</td>
            <td>Either <code>&quot;normal&quot;</code>, <code>&quot;classConstructor&quot;</code> or <code>&quot;generator&quot;</code>.</td>
          </tr>
          <tr>
            <td>[[ECMAScriptCode]]</td>
            <td>Parse Node</td>
            <td>The root parse node of the source text that defines the function&#x2019;s body.</td>
          </tr>
          <tr>
            <td>[[ConstructorKind]]</td>
            <td>String</td>
            <td>Either <code>&quot;base&quot;</code> or <code>&quot;derived&quot;</code>.</td>
          </tr>
          <tr>
            <td>[[Realm]]</td>
            <td><a href="/sec/sec-code-realms.html">Realm</a> Record</td>
            <td>The <a href="/sec/sec-code-realms.html">Code Realm</a> in which the function was created and which provides any intrinsic objects that are accessed when evaluating the function.</td>
          </tr>
          <tr>
            <td>[[ThisMode]]</td>
            <td>(lexical, strict, global)</td>
            <td>Defines how <code>this</code> references are interpreted within the formal parameters and code body of the function. <b>lexical</b> means that <code>this</code> refers to the <b>this</b> value of a lexically enclosing function. <b>strict</b> means that the <b>this</b> value is used exactly as provided by an invocation of the function. <b>global</b> means that a <b>this</b> value of <span class="value">undefined</span> is interpreted as a reference to the global object.</td>
          </tr>
          <tr>
            <td>[[Strict]]</td>
            <td>Boolean</td>
            <td><span class="value">true</span> if this is a strict mode function, <span class="value">false</span> if this is not a strict mode function.</td>
          </tr>
          <tr>
            <td>[[HomeObject]]</td>
            <td>Object</td>
            <td>If the function uses <code>super</code>, this is the object whose [[GetPrototypeOf]] provides the object where <code>super</code> property lookups begin.</td>
          </tr>
        </table>
      </figure>

      <p>All ECMAScript function objects have the [[Call]] internal method defined here. ECMAScript functions that are also
      constructors in addition have the [[Construct]] internal method. ECMAScript function objects whose code is not <a href="/sec/sec-strict-mode-code.html">strict mode code</a> have the [[GetOwnProperty]] internal method defined here.</p>
    </div>

    <section id="sec-ecmascript-function-objects-call-thisargument-argumentslist">
      <div class="front">
        <h1><span class="secnum" id="sec-9.2.1"><a href="/sec/sec-ecmascript-function-objects-call-thisargument-argumentslist.html" title="link to this section">9.2.1</a></span> [[Call]] ( thisArgument, argumentsList)</h1>

        <p class="normalbefore">The [[Call]] internal method for an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript function
        object</a> <var>F</var> is called with parameters <var>thisArgument</var> and <var>argumentsList</var>, a <a href="/sec/sec-list-and-record-specification-type.html">List</a> of <a href="/sec/sec-ecmascript-language-types.html">ECMAScript language
        values</a>. The following steps are taken:</p>

        <ol class="proc">
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript function object</a>.</li>
          <li>If <i>F</i>&#x2019;s [[FunctionKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> is
              <code>&quot;classConstructor&quot;</code>, throw a <b>TypeError</b> exception.</li>
          <li>Let <i>callerContext</i> be <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
          <li>Let <i>calleeContext</i> be <a href="/sec/sec-prepareforordinarycall.html">PrepareForOrdinaryCall</a>(<i>F</i>,
              <b>undefined</b>).</li>
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>calleeContext</i> is now <a href="/sec/sec-execution-contexts.html">the
              running execution context</a>.</li>
          <li>Perform <a href="/sec/sec-ordinarycallbindthis.html">OrdinaryCallBindThis</a>(<i>F</i>, <i>calleeContext</i>,
              <i>thisArgument</i>).</li>
          <li>Let <i>result</i> be <a href="/sec/sec-ordinarycallevaluatebody.html">OrdinaryCallEvaluateBody</a>(<i>F</i>,
              <i>argumentsList</i>).</li>
          <li>Remove <i>calleeContext</i> from <a href="/sec/sec-execution-contexts.html">the execution context stack</a> and restore
              <i>callerContext</i> as <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
          <li>If <i>result</i>.[[type]] is <span style="font-family: sans-serif">return</span>, return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<i>result</i>.[[value]]).</li>
          <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>result</i>).</li>
          <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<b>undefined</b>).</li>
        </ol>

        <div class="note">
          <p><span class="nh">NOTE</span> When <var>calleeContext</var> is removed from <a href="/sec/sec-execution-contexts.html">the
          execution context stack</a> in step 8 it must not be destroyed if it is <a href="/sec/sec-execution-contexts.html">suspended</a>
          and retained for later resumption by an accessible generator object<i>.</i></p>
        </div>
      </div>

      <section id="sec-prepareforordinarycall">
        <h1><span class="secnum" id="sec-9.2.1.1"><a href="/sec/sec-prepareforordinarycall.html" title="link to this section">9.2.1.1</a></span> PrepareForOrdinaryCall( F, newTarget )</h1>

        <p class="normalbefore">When the abstract operation PrepareForOrdinaryCall is called with function object <span style="font-family: Times New Roman"><i>F</i> and <a href="/sec/sec-ecmascript-language-types.html">ECMAScript language value</a>
        <i>newTarget</i></span>, the following steps are taken:</p>

        <ol class="proc">
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>newTarget</i>) is Undefined or Object.</li>
          <li>Let <i>callerContext</i> be <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
          <li>Let <i>calleeContext</i> be a new <a href="/sec/sec-execution-contexts.html">ECMAScript code execution context</a>.</li>
          <li>Set the Function of <i>calleeContext</i> to <i>F</i>.</li>
          <li>Let <i>calleeRealm</i> be the value of <i>F&#x2019;s</i> [[Realm]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a>.</li>
          <li>Set the <a href="/sec/sec-code-realms.html">Realm</a> of <i>calleeContext</i> to <i>calleeRealm</i>.</li>
          <li>Let <i>localEnv</i> be <a href="/sec/sec-newfunctionenvironment.html">NewFunctionEnvironment</a>(<i>F</i>,
              <i>newTarget</i>).</li>
          <li>Set the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of <i>calleeContext</i> to <i>localEnv</i>.</li>
          <li>Set the <a href="/sec/sec-execution-contexts.html">VariableEnvironment</a> of <i>calleeContext</i> to <i>localEnv</i>.</li>
          <li>If <i>callerContext</i> is not already <a href="/sec/sec-execution-contexts.html">suspended</a>, <a href="/sec/sec-execution-contexts.html">Suspend</a> <i>callerContext</i>.</li>
          <li>Push <i>calleeContext</i> onto <a href="/sec/sec-execution-contexts.html">the execution context stack</a>;
              <i>calleeContext</i> is now <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
          <li><span style="font-family: sans-serif">NOTE Any exception objects produced after this point are associated
              with</span> <i>calleeRealm</i>.</li>
          <li>Return <i>calleeContext</i>.</li>
        </ol>
      </section>

      <section id="sec-ordinarycallbindthis">
        <h1><span class="secnum" id="sec-9.2.1.2"><a href="/sec/sec-ordinarycallbindthis.html" title="link to this section">9.2.1.2</a></span> OrdinaryCallBindThis ( F, calleeContext, thisArgument )</h1>

        <p class="normalbefore">When the abstract operation OrdinaryCallBindThis is called with function object <var>F</var>, <a href="/sec/sec-execution-contexts.html">execution context</a> <var>calleeContext</var>, and ECMAScript value
        <var>thisArgument</var> the following steps are taken:</p>

        <ol class="proc">
          <li>Let <i>thisMode</i> be the value of <i>F</i>&#x2019;s [[ThisMode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a>.</li>
          <li>If <i>thisMode</i> is <span style="font-family: sans-serif">lexical</span>, return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<b>undefined</b>).</li>
          <li>Let <i>calleeRealm</i> be the value of <i>F&#x2019;s</i> [[Realm]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a>.</li>
          <li>Let <i>localEnv</i> be the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of <i>calleeContext</i>.</li>
          <li>If <i>thisMode</i> is <span style="font-family: sans-serif">strict</span>, let <i>thisValue</i> be
              <i>thisArgument</i>.</li>
          <li>Else
            <ol class="block">
              <li>if <i>thisArgument</i> is <b>null</b> or <b>undefined</b>, then
                <ol class="block">
                  <li>Let <i>thisValue</i> be <i>calleeRealm</i>.[[globalThis]].</li>
                </ol>
              </li>
              <li>Else
                <ol class="block">
                  <li>Let <i>thisValue</i> be <a href="/sec/sec-toobject.html">ToObject</a>(<i>thisArgument</i>).</li>
                  <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>thisValue</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                  <li><span style="font-family: sans-serif">NOTE <a href="/sec/sec-toobject.html">ToObject</a> produces wrapper objects
                      using</span> <i>calleeRealm</i>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Let <i>envRec</i> be <i>localEnv</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: The next step never returns an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a> because <i>envRec</i>.[[thisBindingStatus]]
              is not <code>&quot;uninitialized&quot;</code>.</li>
          <li>Return <i>envRec</i>.<a href="/sec/sec-bindthisvalue.html">BindThisValue</a>(<i>thisValue</i>).</li>
        </ol>
      </section>

      <section id="sec-ordinarycallevaluatebody">
        <h1><span class="secnum" id="sec-9.2.1.3"><a href="/sec/sec-ordinarycallevaluatebody.html" title="link to this section">9.2.1.3</a></span> OrdinaryCallEvaluateBody ( F, argumentsList )</h1>

        <p class="normalbefore">When the abstract operation OrdinaryCallEvaluateBody is called with function object <var>F</var>
        and <a href="/sec/sec-list-and-record-specification-type.html">List</a> <var>argumentsList</var> the following steps are taken:</p>

        <ol class="proc">
          <li>Let <i>status</i> be <a href="/sec/sec-functiondeclarationinstantiation.html">FunctionDeclarationInstantiation</a>(<i>F</i>,
              <i>argumentsList</i>).</li>
          <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>status</i>)</li>
          <li>Return the result of EvaluateBody of the parsed code that is the value of <i>F</i>&apos;s [[ECMAScriptCode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> passing <i>F</i> as the argument.</li>
        </ol>
      </section>
    </section>

    <section id="sec-ecmascript-function-objects-construct-argumentslist-newtarget">
      <h1><span class="secnum" id="sec-9.2.2"><a href="/sec/sec-ecmascript-function-objects-construct-argumentslist-newtarget.html" title="link to this section">9.2.2</a></span> [[Construct]] ( argumentsList, newTarget)</h1>

      <p class="normalbefore">The [[Construct]] internal method for an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript
      Function object</a> <var>F</var> is called with parameters <var>argumentsList</var> and <span style="font-family: Times New
      Roman"><i>newTarget</i>. <i>argumentsList</i></span> is a possibly empty <a href="/sec/sec-list-and-record-specification-type.html">List</a> of <a href="/sec/sec-ecmascript-language-types.html">ECMAScript language
      values</a>. The following steps are taken:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript
            function object</a>.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>newTarget</i>) is Object.</li>
        <li>Let <i>callerContext</i> be <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
        <li>Let <i>kind</i> be <i>F</i>&#x2019;s [[ConstructorKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a>.</li>
        <li>If <i>kind</i> is <code>&quot;base&quot;</code>, then
          <ol class="block">
            <li>Let <i>thisArgument</i> be <a href="/sec/sec-ordinarycreatefromconstructor.html">OrdinaryCreateFromConstructor</a>(<i>newTarget</i>,
                <code>&quot;%ObjectPrototype%&quot;</code>).</li>
            <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>thisArgument</i>).</li>
          </ol>
        </li>
        <li>Let <i>calleeContext</i> be <a href="/sec/sec-prepareforordinarycall.html">PrepareForOrdinaryCall</a>(<i>F</i>,
            <i>newTarget</i>).</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>calleeContext</i> is now <a href="/sec/sec-execution-contexts.html">the
            running execution context</a>.</li>
        <li>If <i>kind</i> is <code>&quot;base&quot;</code>, perform <a href="/sec/sec-ordinarycallbindthis.html">OrdinaryCallBindThis</a>(<i>F</i>,
            <i>calleeContext</i>, <i>thisArgument</i>).</li>
        <li>Let <i>constructorEnv</i> be the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of
            <i>calleeContext</i>.</li>
        <li>Let <i>envRec</i> be <i>constructorEnv</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
        <li>Let <i>result</i> be <a href="/sec/sec-ordinarycallevaluatebody.html">OrdinaryCallEvaluateBody</a>(<i>F</i>,
            <i>argumentsList</i>).</li>
        <li>Remove <i>calleeContext</i> from <a href="/sec/sec-execution-contexts.html">the execution context stack</a> and restore
            <i>callerContext</i> as <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
        <li>If <i>result</i>.[[type]] is <span style="font-family: sans-serif">return</span>, then
          <ol class="block">
            <li>If <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>result</i>.[[value]]) is Object, return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<i>result</i>.[[value]]).</li>
            <li>If <i>kind</i> is <code>&quot;base&quot;</code>, return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<i>thisArgument</i>).</li>
            <li>If <i>result</i>.[[value]] is not <b>undefined</b>, throw a <b>TypeError</b> exception.</li>
          </ol>
        </li>
        <li>Else, <a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>result</i>).</li>
        <li>Return <i>envRec</i>.GetThisBinding().</li>
      </ol>
    </section>

    <section id="sec-functionallocate">
      <h1><span class="secnum" id="sec-9.2.3"><a href="/sec/sec-functionallocate.html" title="link to this section">9.2.3</a></span>
          FunctionAllocate (functionPrototype, strict [,functionKind] )</h1>

      <p class="normalbefore">The abstract operation FunctionAllocate requires the two arguments <span style="font-family: Times
      New Roman"><i>functionPrototype</i> and <i>strict</i>.</span> It also accepts one optional argument,
      <var>functionKind</var>. FunctionAllocate performs the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>functionPrototype</i>) is Object.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: If <i>functionKind</i> is present, its value is either
            <code>&quot;normal&quot;</code>, <code>&quot;non-constructor&quot;</code> or <code>&quot;generator&quot;</code>.</li>
        <li>If <i>functionKind</i> is not present, let <i>functionKind</i> be <code>&quot;normal&quot;</code>.</li>
        <li>If <i>functionKind</i> is <code>&quot;non-constructor&quot;</code>, then
          <ol class="block">
            <li>Let <i>functionKind</i> be <code>&quot;normal&quot;</code>.</li>
            <li>Let <i>needsConstruct</i> be <b>false</b>.</li>
          </ol>
        </li>
        <li>Else let <i>needsConstruct</i> be <b>true</b>.</li>
        <li>Let <i>F</i> be a newly created <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript function object</a> with the
            internal slots listed in <a href="/sec/table-27.html">Table 27</a>. All of those internal slots are initialized to
            <b>undefined</b>.</li>
        <li>Set <i>F</i>&#x2019;s essential internal methods to the default ordinary object definitions specified in <a href="/sec/sec-ordinary-object-internal-methods-and-internal-slots.html">9.1</a>.</li>
        <li>Set <i>F</i>&#x2019;s [[Call]] internal method to the definition specified in <a href="/sec/sec-ecmascript-function-objects-call-thisargument-argumentslist.html">9.2.1</a>.</li>
        <li>If <i>needsConstruct</i> is <b>true</b>, then
          <ol class="block">
            <li>Set <i>F</i>&#x2019;s [[Construct]] internal method to the definition specified in <a href="/sec/sec-ecmascript-function-objects-construct-argumentslist-newtarget.html">9.2.2</a>.</li>
            <li>If <i>functionKind</i> is <code>&quot;generator&quot;</code>, set the [[ConstructorKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
                <code>&quot;derived&quot;</code>.</li>
            <li>Else, set the [[ConstructorKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of
                <i>F</i> to <code>&quot;base&quot;</code>.</li>
            <li>NOTE  Generator functions are tagged as <code>&quot;derived&quot;</code> constructors to prevent [[Construct]] from
                preallocating a generator instance. Generator instance objects are allocated when EvaluateBody is applied to the
                <span class="nt">GeneratorBody</span> of a generator function.</li>
          </ol>
        </li>
        <li>Set the [[Strict]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <i>strict</i>.</li>
        <li>Set the [[FunctionKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <i>functionKind</i>.</li>
        <li>Set the [[Prototype]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <i>functionPrototype</i>.</li>
        <li>Set the [[Extensible]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <b>true</b>.</li>
        <li>Set the [[Realm]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to <a href="/sec/sec-execution-contexts.html">the running execution context</a>&#x2019;s <a href="/sec/sec-code-realms.html">Realm</a>.</li>
        <li>Return <i>F</i>.</li>
      </ol>
    </section>

    <section id="sec-functioninitialize">
      <h1><span class="secnum" id="sec-9.2.4"><a href="/sec/sec-functioninitialize.html" title="link to this section">9.2.4</a></span>
          FunctionInitialize (F, kind, ParameterList, Body, Scope)</h1>

      <p class="normalbefore">The abstract operation FunctionInitialize requires the arguments: a function object <var>F</var>,
      <var>kind</var> which is one of (Normal, Method, Arrow), a parameter list production specified by <span class="nt">ParameterList</span>, a body production specified by <span class="nt">Body</span>, a <a href="/sec/sec-lexical-environments.html">Lexical Environment</a> specified by <span style="font-family: Times New
      Roman"><i>Scope</i>.</span> FunctionInitialize performs the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an extensible object that does not have a
            <code>length</code> own property.</li>
        <li>Let <i>len</i> be the ExpectedArgumentCount of <i>ParameterList</i>.</li>
        <li>Let <i>status</i> be <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>F</i>, <code>&quot;length&quot;</code>,
            PropertyDescriptor{[[Value]]: <i>len</i>, [[Writable]]: <b>false</b>, [[Enumerable]]: <b>false</b>, [[Configurable]]:
            <b>true</b>}).</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
        <li>Let <i>Strict</i> be the value of the [[Strict]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal
            slot</a> of <i>F</i>.</li>
        <li>Set the [[Environment]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to the
            value of <i>Scope</i>.</li>
        <li>Set the [[FormalParameters]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i>
            to <i>ParameterList</i> .</li>
        <li>Set the [[ECMAScriptCode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <i>Body</i>.</li>
        <li>If <i>kind</i> is <span style="font-family: sans-serif">Arrow</span>, set the [[ThisMode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to <span style="font-family:
            sans-serif">lexical</span>.</li>
        <li>Else if <i>Strict</i> is <b>true</b>, set the [[ThisMode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to <span style="font-family:
            sans-serif">strict</span>.</li>
        <li>Else set the [[ThisMode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <span style="font-family: sans-serif">global</span>.</li>
        <li>Return <i>F</i>.</li>
      </ol>
    </section>

    <section id="sec-functioncreate">
      <h1><span class="secnum" id="sec-9.2.5"><a href="/sec/sec-functioncreate.html" title="link to this section">9.2.5</a></span>
          FunctionCreate (kind, ParameterList, Body, Scope, Strict, prototype)</h1>

      <p class="normalbefore">The abstract operation FunctionCreate requires the arguments: <var>kind</var> which is one of
      (Normal, Method, Arrow), a parameter list production specified by <span class="nt">ParameterList</span>, a body production
      specified by <span class="nt">Body</span>, a <a href="/sec/sec-lexical-environments.html">Lexical Environment</a> specified by <span class="nt">Scope</span>, a Boolean flag <span class="nt">Strict</span>, and optionally, an object <span style="font-family:
      Times New Roman"><i>prototype</i>.</span> FunctionCreate performs the following steps:</p>

      <ol class="proc">
        <li>If the <i>prototype</i> argument was not passed, then
          <ol class="block">
            <li>Let <i>prototype</i> be the intrinsic object %FunctionPrototype%.</li>
          </ol>
        </li>
        <li>If <i>kind</i> is not <span style="font-family: sans-serif">Normal</span>, let <i>allocKind</i> be
            <code>&quot;non-constructor&quot;</code>.</li>
        <li>Else let <i>allocKind</i> be <code>&quot;normal&quot;</code>.</li>
        <li>Let <i>F</i> be <a href="/sec/sec-functionallocate.html">FunctionAllocate</a>(<i>prototype</i>, <i>Strict</i>,
            <i>allocKind</i>).</li>
        <li>Return <a href="/sec/sec-functioninitialize.html">FunctionInitialize</a>(<i>F</i>, <i>kind</i>, <i>ParameterList</i>,
            <i>Body</i>, <i>Scope</i>).</li>
      </ol>
    </section>

    <section id="sec-generatorfunctioncreate">
      <h1><span class="secnum" id="sec-9.2.6"><a href="/sec/sec-generatorfunctioncreate.html" title="link to this section">9.2.6</a></span>
          GeneratorFunctionCreate (kind, ParameterList, Body, Scope, Strict)</h1>

      <p class="normalbefore">The abstract operation GeneratorFunctionCreate requires the arguments: <var>kind</var> which is one
      of (Normal, Method), a parameter list production specified by <span class="nt">ParameterList</span>, a body production
      specified by <span class="nt">Body</span>, a <a href="/sec/sec-lexical-environments.html">Lexical Environment</a> specified by <span class="nt">Scope</span>, and a Boolean flag <span class="nt">Strict</span>. GeneratorFunctionCreate performs the following
      steps:</p>

      <ol class="proc">
        <li>Let <i>functionPrototype</i> be the intrinsic object %Generator%.</li>
        <li>Let <i>F</i> be <a href="/sec/sec-functionallocate.html">FunctionAllocate</a>(<i>functionPrototype</i>, <i>Strict</i>,
            <code>&quot;generator&quot;</code>).</li>
        <li>Return <a href="/sec/sec-functioninitialize.html">FunctionInitialize</a>(<i>F</i>, <i>kind</i>, <i>ParameterList</i>,
            <i>Body</i>, <i>Scope</i>).</li>
      </ol>
    </section>

    <section id="sec-addrestrictedfunctionproperties">
      <div class="front">
        <h1><span class="secnum" id="sec-9.2.7"><a href="/sec/sec-addrestrictedfunctionproperties.html" title="link to this section">9.2.7</a></span> AddRestrictedFunctionProperties ( F, realm )</h1>

        <p class="normalbefore">The abstract operation AddRestrictedFunctionProperties is called with a function object
        <var>F</var> and <a href="/sec/sec-code-realms.html">Realm</a> Record <var>realm</var> as its argument. It performs the following
        steps:</p>

        <ol class="proc">
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>realm</i>.[[intrinsics]].[[<span style="font-family:
              sans-serif">%ThrowTypeError%]] exists and has been initialized.</span></li>
          <li>Let <i>thrower</i> be <i>realm</i>.[[intrinsics]].[[<span style="font-family:
              sans-serif">%ThrowTypeError%]].</span></li>
          <li>Let <i>status</i> be <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>F</i>, <code>&quot;caller&quot;</code>,
              PropertyDescriptor {[[Get]]: <i>thrower</i>, [[Set]]: <i>thrower</i>, [[Enumerable]]: <b>false</b>,
              [[Configurable]]: <b>true</b>}).</li>
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
          <li>Return <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>F</i> , <code>&quot;arguments&quot;</code>,
              PropertyDescriptor {[[Get]]: <i>thrower</i>, [[Set]]: <i>thrower</i>, [[Enumerable]]: <b>false</b>,
              [[Configurable]]: <b>true</b>}).</li>
          <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: The above returned value is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
        </ol>
      </div>

      <section id="sec-%throwtypeerror%">
        <h1><span class="secnum" id="sec-9.2.7.1"><a href="/sec/sec-%throwtypeerror%.html" title="link to this section">9.2.7.1</a></span>
            %ThrowTypeError% ( )</h1>

        <p>The %ThrowTypeError% intrinsic is an anonymous built-in function object that is defined once for each <a href="/sec/sec-code-realms.html">Realm</a>. When %ThrowTypeError% is called it performs the following steps:</p>

        <ol class="proc">
          <li>Throw a <b>TypeError</b> exception.</li>
        </ol>

        <p>The value of the [[Extensible]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of a
        %ThrowTypeError% function is <span class="value">false</span>.</p>

        <p>The <code>length</code> property of a %ThrowTypeError% function has the attributes {&#xA0;[[Writable]]: <b>false</b>,
        [[Enumerable]]: <b>false</b>, [[Configurable]]: <b>false</b> }.</p>
      </section>
    </section>

    <section id="sec-makeconstructor">
      <h1><span class="secnum" id="sec-9.2.8"><a href="/sec/sec-makeconstructor.html" title="link to this section">9.2.8</a></span>
          MakeConstructor (F, writablePrototype, prototype)</h1>

      <p class="normalbefore">The abstract operation MakeConstructor requires a Function argument <var>F</var> and optionally, a
      Boolean <var>writablePrototype</var> and an object <var>prototype</var>. If <var>prototype</var> is provided it is assumed
      to already contain, if needed, a <code>&quot;constructor&quot;</code> property whose value is <var>F</var>. This operation converts
      <var>F</var> into a constructor by performing the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript
            function object</a>.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> has a [[Construct]] internal method.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an extensible object that does not have a
            <code>prototype</code> own property.</li>
        <li>If the <i>writablePrototype</i> argument was not provided, let <i>writablePrototype</i> be <b>true</b>.</li>
        <li>If the <i>prototype</i> argument was not provided, then
          <ol class="block">
            <li>Let <i>prototype</i> be <a href="/sec/sec-objectcreate.html">ObjectCreate</a>(<span style="font-family:
                sans-serif">%ObjectPrototype%</span>).</li>
            <li>Let <i>status</i> be <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>prototype</i>,
                <code>&quot;constructor&quot;</code>, PropertyDescriptor{[[Value]]: <i>F</i>, [[Writable]]: <i>writablePrototype</i>,
                [[Enumerable]]: <b>false</b>, [[Configurable]]: <b>true</b> }).</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
          </ol>
        </li>
        <li>Let <i>status</i> be <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>F</i>,
            <code>&quot;prototype&quot;</code>, PropertyDescriptor{[[Value]]: <i>prototype</i>, [[Writable]]: <i>writablePrototype</i>,
            [[Enumerable]]: <b>false</b>, [[Configurable]]: <b>false</b>}).</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
        <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<b>undefined</b>).</li>
      </ol>
    </section>

    <section id="sec-makeclassconstructor">
      <h1><span class="secnum" id="sec-9.2.9"><a href="/sec/sec-makeclassconstructor.html" title="link to this section">9.2.9</a></span>
          MakeClassConstructor ( F)</h1>

      <p>The abstract operation MakeClassConstructor with argument <var>F</var> performs the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript
            function object</a>.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i>&#x2019;s [[FunctionKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> is <code>&quot;normal&quot;</code>.</li>
        <li>Set <i>F</i>&#x2019;s [[FunctionKind]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> to
            <code>&quot;classConstructor&quot;</code>.</li>
        <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<b>undefined</b>).</li>
      </ol>
    </section>

    <section id="sec-makemethod">
      <h1><span class="secnum" id="sec-9.2.10"><a href="/sec/sec-makemethod.html" title="link to this section">9.2.10</a></span> MakeMethod
          ( F, homeObject)</h1>

      <p class="normalbefore">The abstract operation MakeMethod with arguments <var>F</var> and <var>homeObject</var> configures
      <var>F</var> as a method by performing the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an <a href="/sec/sec-ecmascript-function-objects.html">ECMAScript
            function object</a>.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>homeObject</i> ) is Object.</li>
        <li>Set the [[HomeObject]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>F</i> to
            <i>homeObject</i>.</li>
        <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<b>undefined</b>).</li>
      </ol>
    </section>

    <section id="sec-setfunctionname">
      <h1><span class="secnum" id="sec-9.2.11"><a href="/sec/sec-setfunctionname.html" title="link to this section">9.2.11</a></span>
          SetFunctionName (F, name, prefix)</h1>

      <p class="normalbefore">The abstract operation SetFunctionName requires a Function argument <var>F</var>, a String or Symbol
      argument <var>name</var> and optionally a String argument <var>prefix</var>. This operation adds a <code>name</code>
      property to <var>F</var> by performing the following steps:</p>

      <ol class="proc">
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>F</i> is an extensible object that does not have a
            <code>name</code> own property.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>name</i>)
            is either Symbol or String.</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: If <i>prefix</i> was passed then <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>prefix</i>) is String.</li>
        <li>If <a href="/sec/sec-ecmascript-data-types-and-values.html">Type</a>(<i>name</i>) is Symbol, then
          <ol class="block">
            <li>Let <i>description</i> be <i>name</i>&#x2019;s [[Description]] value.</li>
            <li>If <i>description</i> is <b>undefined</b>, let <i>name</i> be the empty String.</li>
            <li>Else, let <i>name</i> be the concatenation of <code>&quot;[&quot;</code>, <i>description</i>, and <code>&quot;]&quot;</code>.</li>
          </ol>
        </li>
        <li>If <i>prefix</i> was passed, then
          <ol class="block">
            <li>Let <i>name</i> be the concatenation of <i>prefix</i>, code unit 0x0020 (SPACE), and <i>name</i>.</li>
          </ol>
        </li>
        <li>Return <a href="/sec/sec-definepropertyorthrow.html">DefinePropertyOrThrow</a>(<i>F</i>, <code>&quot;name&quot;</code>,
            PropertyDescriptor{[[Value]]: <i>name</i>, [[Writable]]: <b>false</b>, [[Enumerable]]: <b>false</b>, [[Configurable]]:
            <b>true</b>}).</li>
        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: the result is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
      </ol>
    </section>

    <section id="sec-functiondeclarationinstantiation">
      <h1><span class="secnum" id="sec-9.2.12"><a href="/sec/sec-functiondeclarationinstantiation.html" title="link to this section">9.2.12</a></span> FunctionDeclarationInstantiation(func, argumentsList)</h1>

      <div class="note">
        <p><span class="nh">NOTE 1</span> When an <a href="/sec/sec-execution-contexts.html">execution context</a> is established for
        evaluating an ECMAScript function a new function <a href="/sec/sec-environment-records.html">Environment Record</a>  is created and
        bindings for each formal parameter are instantiated in that <a href="/sec/sec-environment-records.html">Environment Record</a>.
        Each declaration in the function body is also instantiated. If the function&#x2019;s formal parameters do not include any
        default value initializers then the body declarations are instantiated in the same <a href="/sec/sec-environment-records.html">Environment Record</a> as the parameters. If default value parameter initializers exist, a
        second <a href="/sec/sec-environment-records.html">Environment Record</a> is created for the body declarations. Formal parameters
        and functions are initialized as part of FunctionDeclarationInstantiation. All other bindings are initialized during
        evaluation of the function body.</p>
      </div>

      <p class="normalbefore">FunctionDeclarationInstantiation is performed as follows using arguments <var>func</var> and
      <var>argumentsList</var>. <var>func</var> is the function object for which the <a href="/sec/sec-execution-contexts.html">execution
      context</a> is being established.</p>

      <ol class="proc">
        <li>Let <i>calleeContext</i> be <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
        <li>Let <i>env</i> be the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of <i>calleeContext</i>.</li>
        <li>Let <i>envRec</i> be <i>env</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
        <li>Let <i>code</i> be the value of the [[ECMAScriptCode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>func</i>.</li>
        <li>Let <i>strict</i> be the value of the [[Strict]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal
            slot</a> of <i>func</i>.</li>
        <li>Let <i>formals</i> be the value of the [[FormalParameters]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of <i>func</i>.</li>
        <li>Let <i>parameterNames</i> be the BoundNames of <i>formals</i>.</li>
        <li>If <i>parameterNames</i> has any duplicate entries, let <i>hasDuplicates</i> be <b>true</b>. Otherwise, let
            <i>hasDuplicates</i> be <b>false</b>.</li>
        <li>Let <i>simpleParameterList</i> be IsSimpleParameterList of <i>formals</i>.</li>
        <li>Let <i>hasParameterExpressions</i> be ContainsExpression of <i>formals.</i></li>
        <li>Let <i>varNames</i> be the VarDeclaredNames of <i>code</i>.</li>
        <li>Let <i>varDeclarations</i> be the VarScopedDeclarations of <i>code</i>.</li>
        <li>Let <i>lexicalNames</i> be the LexicallyDeclaredNames of <i>code</i>.</li>
        <li>Let <i>functionNames</i> be an empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
        <li>Let <i>functionsToInitialize</i> be an empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
        <li>For each <i>d</i> in <i>varDeclarations</i>, in reverse list order do
          <ol class="block">
            <li>If <i>d</i> is neither a <i>VariableDeclaration</i> or a <i>ForBinding</i>, then
              <ol class="block">
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>d</i> is either a <i>FunctionDeclaration</i> or a
                    <i>GeneratorDeclaration</i>.</li>
                <li>Let <i>fn</i> be the sole element of the BoundNames of <i>d.</i></li>
                <li>If <i>fn</i> is not an element of <i>functionNames</i>, then
                  <ol class="block">
                    <li>Insert <i>fn</i> as the first element of <i>functionNames</i>.</li>
                    <li>NOTE If there are multiple <span style="font-family: Times New Roman"><i>FunctionDeclarations</i> or
                        <i>GeneratorDeclarations</i></span> for the same name, the last declaration is used.</li>
                    <li>Insert <i>d</i> as the first element of <i>functionsToInitialize</i>.</li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </li>
        <li>Let <i>argumentsObjectNeeded</i> be <b>true</b>.</li>
        <li>If the value of the [[ThisMode]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> of
            <i>func</i> is <span style="font-family: sans-serif">lexical</span>, then
          <ol class="block">
            <li>NOTE  Arrow functions never have an arguments objects.</li>
            <li>Let <i>argumentsObjectNeeded</i> be <b>false</b>.</li>
          </ol>
        </li>
        <li>Else if <code>&quot;arguments&quot;</code> is an element of <i>parameterNames</i>, then
          <ol class="block">
            <li>Let <i>argumentsObjectNeeded</i> be <b>false</b>.</li>
          </ol>
        </li>
        <li>Else if <i>hasParameterExpressions</i> is <b>false</b>, then
          <ol class="block">
            <li>If <code>&quot;arguments&quot;</code> is an element of <i>functionNames</i> or if <code>&quot;arguments&quot;</code> is an element of
                <i>lexicalNames</i>, then
              <ol class="block">
                <li>Let <i>argumentsObjectNeeded</i> be <b>false</b>.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>For each String <i>paramName</i> in <i>parameterNames</i>, do
          <ol class="block">
            <li>Let <i>alreadyDeclared</i> be <i>envRec</i>.HasBinding(<i>paramName</i>).</li>
            <li>NOTE  Early errors ensure that duplicate parameter names can only occur in non-strict functions that do not have
                parameter default values or rest parameters.</li>
            <li>If <i>alreadyDeclared</i> is <b>false</b>, then
              <ol class="block">
                <li>Let <i>status</i> be <i>envRec</i>.CreateMutableBinding(<i>paramName</i>).</li>
                <li>If <i>hasDuplicates</i> is <b>true</b>, then
                  <ol class="block">
                    <li>Let <i>status</i> be <i>envRec</i>.InitializeBinding(<i>paramName</i>, <b>undefined</b>).</li>
                  </ol>
                </li>
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a> for either of the above
                    operations.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>If <i>argumentsObjectNeeded</i> is <b>true</b>, then
          <ol class="block">
            <li>If <i>strict</i> is <b>true</b> or if <i>simpleParameterList</i> is <b>false</b>, then
              <ol class="block">
                <li>Let <i>ao</i> be <a href="/sec/sec-createunmappedargumentsobject.html">CreateUnmappedArgumentsObject</a>(<i>argumentsList</i>)<i>.</i></li>
              </ol>
            </li>
            <li>Else,
              <ol class="block">
                <li>NOTE  mapped argument object is only provided for non-strict functions that don&#x2019;t have a rest parameter,
                    any parameter default value initializers, or any destructured parameters .</li>
                <li>Let <i>ao</i> be <a href="/sec/sec-createmappedargumentsobject.html">CreateMappedArgumentsObject</a>(<i>func</i>,
                    <i>formals</i>, <i>argumentsList</i>, <i>env</i>).</li>
              </ol>
            </li>
            <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>ao</i>).</li>
            <li>If <i>strict</i> is <b>true</b>, then
              <ol class="block">
                <li>Let <i>status</i> be <i>envRec</i>.CreateImmutableBinding(<code>&quot;arguments&quot;</code>).</li>
              </ol>
            </li>
            <li>Else,
              <ol class="block">
                <li>Let <i>status</i> be <i>envRec</i>.CreateMutableBinding(<code>&quot;arguments&quot;</code>).</li>
              </ol>
            </li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
            <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.InitializeBinding(<code>&quot;arguments&quot;</code>, <i>ao</i>).</li>
            <li>Append <code>&quot;arguments&quot;</code> to <i>parameterNames</i>.</li>
          </ol>
        </li>
        <li>Let <i>iteratorRecord</i> be Record {[[iterator]]: <a href="/sec/sec-createlistiterator.html">CreateListIterator</a>(<i>argumentsList</i>), [[done]]: <b>false</b>}.</li>
        <li>If <i>hasDuplicates</i> is <b>true</b>, then
          <ol class="block">
            <li>Let <i>formalStatus</i> be IteratorBindingInitialization for <i>formals</i> with <i>iteratorRecord</i> and
                <b>undefined</b> as arguments.</li>
          </ol>
        </li>
        <li>Else,
          <ol class="block">
            <li>Let <i>formalStatus</i> be IteratorBindingInitialization for <i>formals</i> with <i>iteratorRecord</i>  and
                <i>env</i> as arguments.</li>
          </ol>
        </li>
        <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>formalStatus</i>).</li>
        <li>If <i>hasParameterExpressions</i> is <b>false</b>, then
          <ol class="block">
            <li>NOTE  Only a single <a href="/sec/sec-lexical-environments.html">lexical environment</a> is needed for the parameters and
                top-level vars.</li>
            <li>Let <i>instantiatedVarNames</i> be a copy of the <a href="/sec/sec-list-and-record-specification-type.html">List</a>
                <i>parameterNames</i>.</li>
            <li>For each <i>n</i> in <i>varNames</i>, do
              <ol class="block">
                <li>If <i>n</i> is not an element of <i>instantiatedVarNames</i>, then
                  <ol class="block">
                    <li>Append <i>n</i> to <i>instantiatedVarNames</i>.</li>
                    <li>Let <i>status</i> be <i>envRec</i>.CreateMutableBinding(<i>n</i>).</li>
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                    <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.InitializeBinding(<i>n</i>, <b>undefined</b>).</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Let <i>varEnv</i> be <i>env</i>.</li>
            <li>Let <i>varEnvRec</i> be <i>envRec</i>.</li>
          </ol>
        </li>
        <li>Else,
          <ol class="block">
            <li>NOTE  A separate <a href="/sec/sec-environment-records.html">Environment Record</a> is needed to ensure that closures
                created by expressions in the formal parameter list do not have visibility of declarations in the function
                body.</li>
            <li>Let <i>varEnv</i> be <a href="/sec/sec-newdeclarativeenvironment.html">NewDeclarativeEnvironment</a>(<i>env</i>).</li>
            <li>Let <i>varEnvRec</i> be <i>varEnv</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
            <li>Set the <a href="/sec/sec-execution-contexts.html">VariableEnvironment</a> of <i>calleeContext</i> to <i>varEnv</i>.</li>
            <li>Let <i>instantiatedVarNames</i> be a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
            <li>For each <i>n</i> in <i>varNames</i>, do
              <ol class="block">
                <li>If <i>n</i> is not an element of <i>instantiatedVarNames</i>, then
                  <ol class="block">
                    <li>Append <i>n</i> to <i>instantiatedVarNames</i>.</li>
                    <li>Let <i>status</i> be <i>varEnvRec</i>.CreateMutableBinding(<i>n</i>).</li>
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                    <li>If <i>n</i> is not an element of <i>parameterNames</i> or if <i>n</i> is an element of
                        <i>functionNames</i>, let <i>initialValue</i> be <b>undefined</b>.</li>
                    <li>else,
                      <ol class="block">
                        <li>Let <i>initialValue</i> be <i>envRec.</i>GetBindingValue(<i>n</i>, <b>false</b>).</li>
                        <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>initialValue</i>).</li>
                      </ol>
                    </li>
                    <li><a href="/sec/sec-call.html">Call</a> <i>varEnvRec</i>.InitializeBinding(<i>n</i>, <i>initialValue</i>).</li>
                    <li>NOTE  vars whose names are the same as a formal parameter, initially have the same value as the
                        corresponding initialized parameter.</li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </li>
        <li>NOTE:  Annex <a href="/sec/sec-block-level-function-declarations-web-legacy-compatibility-semantics.html">B.3.3</a> adds
            additional steps at this point.</li>
        <li>If <i>strict</i> is <b>false</b>, then
          <ol class="block">
            <li>Let <i>lexEnv</i> be <a href="/sec/sec-newdeclarativeenvironment.html">NewDeclarativeEnvironment</a>(<i>varEnv</i>).</li>
            <li>NOTE:  Non-strict functions use a separate lexical <a href="/sec/sec-environment-records.html">Environment Record</a> for
                top-level lexical declarations so that a direct <code>eval</code> (<a href="/sec/sec-function-calls-runtime-semantics-evaluation.html">see 12.3.4.1</a>) can determine whether any var scoped
                declarations introduced by the eval code conflict with pre-existing top-level lexically scoped declarations. This
                is not needed for strict functions because a strict direct <code>eval</code> always places all declarations into a
                new <a href="/sec/sec-environment-records.html">Environment Record</a>.</li>
          </ol>
        </li>
        <li>Else, let <i>lexEnv</i> be <i>varEnv</i>.</li>
        <li>Let <i>lexEnvRec</i> be <i>lexEnv</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
        <li>Set the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of <i>calleeContext</i> to <i>lexEnv</i>.</li>
        <li>Let <i>lexDeclarations</i> be the LexicallyScopedDeclarations of <i>code</i>.</li>
        <li>For each element <i>d</i> in <i>lexDeclarations</i> do
          <ol class="block">
            <li>NOTE  A lexically declared name cannot be the same as a function/generator declaration, formal parameter, or a var
                name. Lexically declared names are only instantiated here but not initialized.</li>
            <li>For each element <i>dn</i> of the BoundNames of <i>d</i> do
              <ol class="block">
                <li>If IsConstantDeclaration of <i>d</i> is <b>true</b>, then
                  <ol class="block">
                    <li>Let <i>status</i> be <i>lexEnvRec</i>.CreateImmutableBinding(<i>dn</i>, <b>true</b>).</li>
                  </ol>
                </li>
                <li>Else,
                  <ol class="block">
                    <li>Let <i>status</i> be <i>lexEnvRec</i>.CreateMutableBinding(<i>dn</i>, <b>false</b>).</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
          </ol>
        </li>
        <li>For each parsed grammar phrase <i>f</i> in <i>functionsToInitialize</i>, do
          <ol class="block">
            <li>Let <i>fn</i> be the sole element of the BoundNames of <i>f.</i></li>
            <li>Let <i>fo</i> be the result of performing InstantiateFunctionObject for <i>f</i> with argument <i>lexEnv</i>.</li>
            <li>Let <i>status</i> be <i>varEnvRec</i>.SetMutableBinding(<i>fn</i>, <i>fo</i>, <b>false</b>).</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is never an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
          </ol>
        </li>
        <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<span style="font-family: sans-serif">empty</span>).</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE 2</span> <a href="/sec/sec-block-level-function-declarations-web-legacy-compatibility-semantics.html">B.3.3</a> provides an extension to the
        above algorithm that is necessary for backwards compatibility with web browser implementations of ECMAScript that predate
        ECMAScript 2015.</p>
      </div>

      <div class="note">
        <p><span class="nh">NOTE 3</span> Parameter <span class="nt">Initializers</span> may contain direct eval expressions (<a href="/sec/sec-function-calls-runtime-semantics-evaluation.html">12.3.4.1</a>). Any top level declarations of such evals are only
        visible to the eval code (<a href="/sec/sec-types-of-source-code.html">10.2</a>). The creation of the environment for such
        declarations is described in <a href="/sec/sec-function-definitions-runtime-semantics-iteratorbindinginitialization.html">14.1.18</a>.</p>
      </div>
    </section>
  
  </div>
  <script src="/lib/bundle.js"></script>
</body>
</html>

