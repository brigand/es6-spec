<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>ECMA262 2015</title>
  <meta name="description" content="Easy to search ecmascript spec">
  <meta name="author" content="TC-39">

  <link rel="stylesheet" href="/src/es6.css">
  <link rel="stylesheet" href="/src/client.css">
</head>

<body>
  <div id="Root">
    <div class="SearchWrapper">
      <input class="SearchInput" placeholder="Search">
      <div class="SearchItems">
      </div>
  </div>
  <div id="Content">
    
          <h1><span class="secnum" id="sec-21.2.3.2.2"><a href="/sec/sec-regexpinitialize.html" title="link to this section">21.2.3.2.2</a></span> Runtime Semantics: RegExpInitialize ( obj, pattern, flags )</h1>

          <p class="normalbefore">When the abstract operation RegExpInitialize with arguments <i><span style="font-family: Times
          New Roman">obj</span>,</i> <var>pattern</var>, and <var>flags</var> is called, the following steps are taken:</p>

          <ol class="proc">
            <li>If <i>pattern</i> is <b>undefined</b>, let <i>P</i> be the empty String.</li>
            <li>Else, let <i>P</i> be <a href="/sec/sec-tostring.html">ToString</a>(<i>pattern</i>).</li>
            <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>P</i>).</li>
            <li>If <i>flags</i> is <b>undefined</b>, let <i>F</i> be the empty String.</li>
            <li>Else, let <i>F</i> be <a href="/sec/sec-tostring.html">ToString</a>(<i>flags</i>).</li>
            <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>F</i>).</li>
            <li>If <i>F</i> contains any code unit other than <code>&quot;g&quot;</code>, <code>&quot;i&quot;</code>, <code>&quot;m&quot;</code>,
                <code>&quot;u&quot;</code>, or <code>&quot;y&quot;</code> or if it contains the same code unit more than once, throw a
                <b>SyntaxError</b> exception.</li>
            <li>If <i>F</i> contains <code>&quot;u&quot;</code>, let <i>BMP</i> be <b>false</b>; else let <i>BMP</i> be <b>true</b>.</li>
            <li>If <i>BMP</i> is <b>true</b>, then
              <ol class="block">
                <li>Parse <i>P</i> using the grammars in <a href="/sec/sec-patterns.html">21.2.1</a> and interpreting each of its 16-bit
                    elements as a Unicode BMP code point. UTF-16 decoding is not applied to the elements. The goal symbol for the
                    parse is <i>Pattern</i>. Throw a <b>SyntaxError</b> exception if <i>P</i> did not conform to the grammar, if
                    any elements of <i>P</i> were not matched by the parse, or if any Early Error conditions exist.</li>
                <li>Let <i>patternCharacters</i>  be a <a href="/sec/sec-list-and-record-specification-type.html">List</a> whose elements
                    are the code unit elements of <i>P.</i></li>
              </ol>
            </li>
            <li>Else
              <ol class="block">
                <li>Parse <i>P</i> using the grammars in <a href="/sec/sec-patterns.html">21.2.1</a> and interpreting  <i>P</i> as UTF-16
                    encoded Unicode code points (<a href="/sec/sec-ecmascript-language-types-string-type.html">6.1.4</a>). The goal symbol
                    for the parse is <i>Pattern</i><sub>[U]</sub>. Throw a <b>SyntaxError</b> exception if <i>P</i> did not
                    conform to the grammar, if any elements of <i>P</i> were not matched by the parse, or if any Early Error
                    conditions exist.</li>
                <li>Let <i>patternCharacters</i>  be a <a href="/sec/sec-list-and-record-specification-type.html">List</a> whose elements
                    are the code points resulting from applying UTF-16 decoding to <i>P</i>&#x2019;s sequence of elements.</li>
              </ol>
            </li>
            <li>Set the value of <i>obj&#x2019;s</i> [[OriginalSource]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> to <i>P</i>.</li>
            <li>Set the value of <i>obj&#x2019;s</i> [[OriginalFlags]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal slot</a> to <i>F</i>.</li>
            <li>Set <i>obj&#x2019;s</i> [[RegExpMatcher]] <a href="/sec/sec-object-internal-methods-and-internal-slots.html">internal
                slot</a> to the internal procedure that evaluates the above parse of <i>P</i> by applying the semantics provided
                in <a href="/sec/sec-pattern-semantics.html">21.2.2</a> using <i>patternCharacters</i> as the pattern&#x2019;s <a href="/sec/sec-list-and-record-specification-type.html">List</a> of <i>SourceCharacter</i> values and <i>F</i> as the flag
                parameters.</li>
            <li>Let <i>setStatus</i> be <a href="/sec/sec-set-o-p-v-throw.html">Set</a>(<i>obj</i>, <code>&quot;lastIndex&quot;</code>, 0,
                <b>true</b>).</li>
            <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>setStatus</i>).</li>
            <li>Return <i>obj</i>.</li>
          </ol>
        
  </div>
  <script src="/lib/bundle.js"></script>
</body>
</html>

