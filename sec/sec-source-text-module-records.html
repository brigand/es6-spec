<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>ECMA262 2015</title>
  <meta name="description" content="Easy to search ecmascript spec">
  <meta name="author" content="TC-39">

  <link rel="stylesheet" href="/src/es6.css">
  <link rel="stylesheet" href="/src/client.css">
</head>

<body>
  <div id="Root">
    <div class="SearchWrapper">
      <input class="SearchInput" placeholder="Search">
      <div class="SearchItems">
      </div>
  </div>
  <div id="Content">
    
        <div class="front">
          <h1><span class="secnum" id="sec-15.2.1.16"><a href="/sec/sec-source-text-module-records.html" title="link to this section">15.2.1.16</a></span> Source Text Module Records</h1>

          <p>A Source Text <a href="/sec/sec-abstract-module-records.html">Module Record</a> is used to represent information about a
          module that was defined from ECMAScript source text (10) that was parsed using the goal symbol <span class="nt">Module</span>. Its fields contain digested information about the names that are imported by the module and
          its concrete methods use this digest to link, instantiate, and evaluate the module.</p>

          <p>In addition to the fields, defined in <a href="/sec/table-36.html">Table 36</a>, Source Text Module Records have the
          additional fields listed in <a href="/sec/table-38.html">Table 38</a>. Each of these fields initially has the value <span class="value">undefined</span>.</p>

          <figure>
            <figcaption><span id="table-38">Table 38</span> &#x2014; Additional Fields of Source Text Module Records</figcaption>
            <table class="real-table">
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Meaning</th>
              </tr>
              <tr>
                <td>[[ECMAScriptCode]]</td>
                <td>a parse result</td>
                <td>The result of parsing the source text of this module using <span class="nt">Module</span> as the goal symbol.</td>
              </tr>
              <tr>
                <td>[[RequestedModules]]</td>
                <td><a href="/sec/sec-list-and-record-specification-type.html">List</a> of String</td>
                <td>A <a href="/sec/sec-list-and-record-specification-type.html">List</a> of all the <span class="nt">ModuleSpecifier</span> strings used by the module represented by this record to request the importation of a module. The <a href="/sec/sec-list-and-record-specification-type.html">List</a> is source code occurrence ordered.</td>
              </tr>
              <tr>
                <td>[[ImportEntries]]</td>
                <td><a href="/sec/sec-list-and-record-specification-type.html">List</a> of ImportEntry Records</td>
                <td>A <a href="/sec/sec-list-and-record-specification-type.html">List</a> of ImportEntry records derived from the code of this module.</td>
              </tr>
              <tr>
                <td>[[LocalExportEntries]]</td>
                <td><a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry Records</td>
                <td>A <a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry records derived from the code of this module that correspond to declarations that occur within the module.</td>
              </tr>
              <tr>
                <td>[[IndirectExportEntries]]</td>
                <td><a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry Records</td>
                <td>A <a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry records derived from the code of this module that correspond to reexported imports that occur within the module.</td>
              </tr>
              <tr>
                <td>[[StarExportEntries]]</td>
                <td><a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry Records</td>
                <td>A <a href="/sec/sec-list-and-record-specification-type.html">List</a> of ExportEntry records derived from the code of this module that correspond to export * declarations that occur within the module.</td>
              </tr>
            </table>
          </figure>

          <p>An ImportEntry Record is a Record that digests information about a single declarative import. Each ImportEntry Record
          has the fields defined in <a href="/sec/table-39.html">Table 39</a>:</p>

          <figure>
            <figcaption><span id="table-39">Table 39</span> &#x2014; ImportEntry Record Fields</figcaption>
            <table class="real-table">
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Meaning</th>
              </tr>
              <tr>
                <td>[[ModuleRequest]]</td>
                <td>String</td>
                <td>String value of the <span class="nt">ModuleSpecifier</span> of the <span class="nt">ImportDeclaration</span>.</td>
              </tr>
              <tr>
                <td>[[ImportName]]</td>
                <td>String</td>
                <td>The name under which the desired binding is exported by the module identified by [[ModuleRequest]]. The value <code>&quot;*&quot;</code> indicates that the import request is for the target module&#x2019;s namespace object.</td>
              </tr>
              <tr>
                <td>[[LocalName]]</td>
                <td>String</td>
                <td>The name that is used to locally access the imported value from within the importing module.</td>
              </tr>
            </table>
          </figure>

          <div class="note">
            <p><span class="nh">NOTE 1</span> <a href="/sec/table-40.html">Table 40</a> gives examples of ImportEntry records fields used
            to represent the syntactic import forms:</p>
          </div>

          <figure>
            <figcaption><span id="table-40">Table 40</span> (Informative) &#x2014; Import Forms Mappings to ImportEntry Records</figcaption>
            <table class="real-table">
              <tr>
                <th>
                  <p class="Note"><b><i>Import Statement Form</i></b></p>
                </th>
                <th>
                  <p class="Note"><b>[[ModuleRequest]]</b></p>
                </th>
                <th>
                  <p class="Note"><b>[[ImportName]]</b></p>
                </th>
                <th>
                  <p class="Note"><b>[[LocalName]]</b></p>
                </th>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>import v from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;default&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>import * as ns from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;*&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;ns&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>import {x} from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>import {x as v} from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>import &quot;mod&quot;;</code></p>
                </td>

                <td colspan="3">An ImportEntry Record is not created.</td>
              </tr>
            </table>
          </figure>

          <p>An ExportEntry Record is a Record that digests information about a single declarative export. Each ExportEntry Record
          has the fields defined in <a href="/sec/table-41.html">Table 41</a>:</p>

          <figure>
            <figcaption><span id="table-41">Table 41</span> &#x2014; ExportEntry Record Fields</figcaption>
            <table class="real-table">
              <tr>
                <th>Field Name</th>
                <th>Value&#xA0;Type</th>
                <th>Meaning</th>
              </tr>
              <tr>
                <td>[[ExportName]]</td>
                <td>String</td>
                <td>The name used to export this binding by this module.</td>
              </tr>
              <tr>
                <td>[[ModuleRequest]]</td>
                <td>String | null</td>
                <td>The String value of the <span class="nt">ModuleSpecifier</span> of the <span class="nt">ExportDeclaration</span>. <span class="value">null</span> if the <span class="nt">ExportDeclaration</span> does not have a <span class="nt">ModuleSpecifier</span>.</td>
              </tr>
              <tr>
                <td>[[ImportName]]</td>
                <td>String | null</td>
                <td>The name under which the desired binding is exported by the module identified by [[ModuleRequest]]. <span class="value">null</span> if the <span class="nt">ExportDeclaration</span> does not have a <span class="nt">ModuleSpecifier</span>. <code>&quot;*&quot;</code> indicates that the export request is for all exported bindings.</td>
              </tr>
              <tr>
                <td>[[LocalName]]</td>
                <td>String | null</td>
                <td>The name that is used to locally access the exported value from within the importing module. <span class="value">null</span> if the exported value is not locally accessible from within the module.</td>
              </tr>
            </table>
          </figure>

          <div class="note">
            <p><span class="nh">NOTE 2</span> <a href="/sec/table-42.html">Table 42</a> gives examples of the ExportEntry record fields
            used to represent the syntactic export forms:</p>
          </div>

          <figure>
            <figcaption><span id="table-42">Table 42</span> (Informative) &#x2014; Export Forms Mappings to ExportEntry Records</figcaption>
            <table class="real-table">
              <tr>
                <th>
                  <p class="Note"><b><i>Export Statement Form</i></b></p>
                </th>
                <th>
                  <p class="Note"><b>[[ExportName]]</b></p>
                </th>
                <th>
                  <p class="Note"><b>[[ModuleRequest]]</b></p>
                </th>
                <th>
                  <p class="Note"><b>[[ImportName]]</b></p>
                </th>
                <th>
                  <p class="Note"><b>[[LocalName]]</b></p>
                </th>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export var v;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export default function f(){};</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;default&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;f&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export default function(){};</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;default&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;*default*&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export default 42;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;default&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;*default*&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export {x};</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export {v as x};</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export {x} from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export {v as x} from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;x&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;v&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>
              </tr>
              <tr>
                <td>
                  <p class="Note"><code>export * from &quot;mod&quot;;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;mod&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><code>&quot;*&quot;</code></p>
                </td>

                <td>
                  <p class="Note"><b>null</b></p>
                </td>
              </tr>
            </table>
          </figure>

          <p>The following definitions specify the required concrete methods and other abstract operations for  Source Text Module
          Records</p>
        </div>

        <section id="sec-parsemodule">
          <h1><span class="secnum" id="sec-15.2.1.16.1"><a href="/sec/sec-parsemodule.html" title="link to this section">15.2.1.16.1</a></span> Runtime Semantics: ParseModule ( sourceText )</h1>

          <p class="normalbefore">The abstract operation ParseModule with argument <var>sourceText</var> creates a <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a> based upon the result of parsing
          <var>sourceText</var> as a <var>Module.</var> ParseModule performs the following steps:</p>

          <ol class="proc">
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>sourceText</i> is an ECMAScript source text (see <a href="/sec/sec-ecmascript-language-source-code.html">clause 10</a>).</li>
            <li>Parse <i>sourceText</i> using <i>Module</i> as the goal symbol and analyze the parse result for any Early Error
                conditions. If the parse was successful and no early errors were found, let <i>body</i> be the resulting parse
                tree. Otherwise, let <i>body</i> be an indication of one or more parsing errors and/or early errors. Parsing and
                early error detection may be interweaved in an implementation dependent manner. If more than one parse or early
                error is present, the number and ordering of reported errors is implementation dependent but at least one error
                must be reported.</li>
            <li>If <i>body</i> is an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a> or error
                indication, then
              <ol class="block">
                <li>Throw a <b>SyntaxError</b> exception.</li>
              </ol>
            </li>
            <li>Let <i>requestedModules</i> be the ModuleRequests of <i>body</i>.</li>
            <li>Let <i>importEntries</i> be ImportEntries of <i>body</i>.</li>
            <li>Let <i>importedBoundNames</i> be <a href="/sec/sec-importedlocalnames.html">ImportedLocalNames</a>(<i>importEntries</i>).</li>
            <li>Let <i>indirectExportEntries</i> be a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
            <li>Let <i>localExportEntries</i> be a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
            <li>Let <i>starExportEntries</i> be a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
            <li>Let <i>exportEntries</i> be ExportEntries of <i>body</i>.</li>
            <li>For each record <i>ee</i> in <i>exportEntries</i>, do
              <ol class="block">
                <li>If <i>ee</i>.[[ModuleRequest]] is <b>null</b>, then
                  <ol class="block">
                    <li>If <i>ee</i>.[[LocalName]] is not an element of <i>importedBoundNames</i>, then
                      <ol class="block">
                        <li>Append <i>ee</i> to <i>localExportEntries</i>.</li>
                      </ol>
                    </li>
                    <li>Else
                      <ol class="block">
                        <li>Let <i>ie</i> be the element of <i>importEntries</i> whose [[LocalName]] is the same as
                            <i>ee</i>.[[LocalName]].</li>
                        <li>If <i>ie</i>.[[ImportName]] is <code>&quot;*&quot;</code>, then
                          <ol class="block">
                            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: this is a re-export of an imported module
                                namespace object.</li>
                            <li>Append <i>ee</i> to <i>localExportEntries</i>.</li>
                          </ol>
                        </li>
                        <li>Else, this is a re-export of a single name
                          <ol class="block">
                            <li>Append to <i>indirectExportEntries</i> the Record {[[ModuleRequest]]: <i>ie</i>.[[ModuleRequest]],
                                [[ImportName]]: <i>ie</i>.[[ImportName]], [[LocalName]]: <b>null</b>, [[ExportName]]:
                                <i>ee</i>.[[ExportName]] }.</li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li>Else, if <i>ee</i>.[[ImportName]] is <code>&quot;*&quot;</code>, then
                  <ol class="block">
                    <li>Append <i>ee</i> to <i>starExportEntries</i>.</li>
                  </ol>
                </li>
                <li>Else,
                  <ol class="block">
                    <li>Append <i>ee</i> to <i>indirectExportEntries</i>.</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Return <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a> {[[Realm]]: <b>undefined</b>,
                [[Environment]]: <b>undefined</b>, [[Namespace]]: <b>undefined</b>, [[Evaluated]]: <b>false</b>,
                [[ECMAScriptCode]]: <i>body</i>, [[RequestedModules]]: <i>requestedModules</i>, [[ImportEntries]]:
                <i>importEntries</i>, [[LocalExportEntries]]: <i>localExportEntries</i>, [[StarExportEntries]]:
                <i>starExportEntries</i>, [[IndirectExportEntries]]: <i>indirectExportEntries</i>}.</li>
          </ol>

          <div class="note">
            <p><span class="nh">NOTE</span> An implementation may parse module source text and analyze it for Early Error
            conditions prior to the evaluation of ParseModule for that module source text. However, the reporting of any errors
            must be deferred until the point where this specification actually performs ParseModule upon that source text.</p>
          </div>
        </section>

        <section id="sec-getexportednames">
          <h1><span class="secnum" id="sec-15.2.1.16.2"><a href="/sec/sec-getexportednames.html" title="link to this section">15.2.1.16.2</a></span> GetExportedNames( exportStarSet ) Concrete Method</h1>

          <p class="normalbefore">The GetExportedNames concrete method of a <a href="/sec/sec-source-text-module-records.html">Source Text
          Module Record</a> with argument <var>exportStarSet</var> performs the following steps:</p>

          <ol class="proc">
            <li>Let <i>module</i> be this <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a>.</li>
            <li>If <i>exportStarSet</i> contains <i>module</i>, then
              <ol class="block">
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: We&#x2019;ve reached the starting point of an import *
                    circularity.</li>
                <li>Return a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
              </ol>
            </li>
            <li>Append <i>module</i> to <i>exportStarSet</i>.</li>
            <li>Let <i>exportedNames</i> be a new empty <a href="/sec/sec-list-and-record-specification-type.html">List</a>.</li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[LocalExportEntries]], do
              <ol class="block">
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i> provides the direct binding for this
                    export.</li>
                <li>Append <i>e</i>.[[ExportName]] to <i>exportedNames</i>.</li>
              </ol>
            </li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[IndirectExportEntries]], do
              <ol class="block">
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i> imports a specific binding for this
                    export.</li>
                <li>Append <i>e</i>.[[ExportName]] to <i>exportedNames</i>.</li>
              </ol>
            </li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[StarExportEntries]], do
              <ol class="block">
                <li>Let <i>requestedModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>,
                    <i>e</i>.[[ModuleRequest]]).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>requestedModule</i>).</li>
                <li>Let <i>starNames</i> be <i>requestedModule.</i>GetExportedNames(<i>exportStarSet</i>).</li>
                <li>For each element <i>n</i> of <i>starNames</i>, do
                  <ol class="block">
                    <li>If <a href="/sec/sec-samevalue.html">SameValue</a>(<i>n</i>, <code>&quot;default&quot;</code>) is <b>false</b>, then
                      <ol class="block">
                        <li>If <i>n</i> is not an element of <i>exportedNames</i>, then
                          <ol class="block">
                            <li>Append <i>n</i> to <i>exportedNames</i>.</li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Return <i>exportedNames</i>.</li>
          </ol>

          <div class="note">
            <p><span class="nh">NOTE</span> GetExportedNames does not filter out or throw an exception for names that have
            ambiguous star export bindings.</p>
          </div>
        </section>

        <section id="sec-resolveexport">
          <h1><span class="secnum" id="sec-15.2.1.16.3"><a href="/sec/sec-resolveexport.html" title="link to this section">15.2.1.16.3</a></span> ResolveExport( exportName, resolveSet, exportStarSet ) Concrete
              Method</h1>

          <p class="normalbefore">The ResolveExport concrete method of a <a href="/sec/sec-source-text-module-records.html">Source Text
          Module Record</a> with arguments <var>exportName</var>, <var>resolveSet</var>, and <var>exportStarSet</var> performs the
          following steps:</p>

          <ol class="proc">
            <li>Let <i>module</i> be this <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a>.</li>
            <li>For each Record {[[module]], [[exportName]]} <i>r</i> in <i>resolveSet</i>, do:
              <ol class="block">
                <li>If <i>module</i> and <i>r</i>.[[module]] are the same <a href="/sec/sec-abstract-module-records.html">Module Record</a>
                    and <a href="/sec/sec-samevalue.html">SameValue</a>(<i>exportName</i>, <i>r</i>.[[exportName]]) is <b>true</b>, then
                  <ol class="block">
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: this is a circular import request.</li>
                    <li>Return <b>null</b>.</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Append the Record {[[module]]: <i>module</i>, [[exportName]]: <i>exportName</i>} to <i>resolveSet</i>.</li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[LocalExportEntries]], do
              <ol class="block">
                <li>If <a href="/sec/sec-samevalue.html">SameValue</a>(<i>exportName</i>, <i>e</i>.[[ExportName]]) is <b>true</b>, then
                  <ol class="block">
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i> provides the direct binding for this
                        export.</li>
                    <li>Return Record{[[module]]: <i>module,</i> [[bindingName]]: <i>e</i>.[[LocalName]]}.</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[IndirectExportEntries]], do
              <ol class="block">
                <li>If <a href="/sec/sec-samevalue.html">SameValue</a>(<i>exportName</i>, <i>e</i>.[[ExportName]]) is <b>true</b>, then
                  <ol class="block">
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i> imports a specific binding for this
                        export.</li>
                    <li>Let <i>importedModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>,
                        <i>e</i>.[[ModuleRequest]]).</li>
                    <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>importedModule</i>).</li>
                    <li>Let <i>indirectResolution</i> be <i>importedModule.</i>ResolveExport(<i>e</i>.[[ImportName]],
                        <i>resolveSet</i>, <i>exportStarSet</i>).</li>
                    <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>indirectResolution</i>).</li>
                    <li>If <i>indirectResolution</i> is not <b>null</b>, return <i>indirectResolution</i>.</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>If <a href="/sec/sec-samevalue.html">SameValue</a>(<i>exportName</i>, <code>&quot;default&quot;</code>) is <b>true</b>, then
              <ol class="block">
                <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: A <code>default</code> export was not explicitly defined by
                    this module.</li>
                <li>Throw a <b>SyntaxError</b> exception.</li>
                <li>NOTE  A <code>default</code> export cannot be provided by an <code>export *</code>.</li>
              </ol>
            </li>
            <li>If <i>exportStarSet</i> contains <i>module</i>, then return <b>null</b>.</li>
            <li>Append <i>module</i> to <i>exportStarSet</i>.</li>
            <li>Let <i>starResolution</i> be <b>null</b>.</li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[StarExportEntries]], do
              <ol class="block">
                <li>Let <i>importedModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>,
                    <i>e</i>.[[ModuleRequest]]).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>importedModule</i>).</li>
                <li>Let <i>resolution</i> be <i>importedModule</i>.ResolveExport(<i>exportName</i>, <i>resolveSet</i>,
                    <i>exportStarSet</i>).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>resolution</i>).</li>
                <li>If <i>resolution</i> is <code>&quot;ambiguous&quot;</code>, return <code>&quot;ambiguous&quot;</code>.</li>
                <li>If <i>resolution</i> is not <b>null</b>, then
                  <ol class="block">
                    <li>If <i>starResolution</i> is <b>null</b>, let <i>starResolution</i> be <i>resolution</i>.</li>
                    <li>Else
                      <ol class="block">
                        <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: there is more than one * import that includes the
                            requested name.</li>
                        <li>If <i>resolution</i>.[[module]] and <i>starResolution</i>.[[module]] are not the same <a href="/sec/sec-abstract-module-records.html">Module Record</a> or <a href="/sec/sec-samevalue.html">SameValue</a>(<i>resolution.</i>[[exportName]],
                            <i>starResolution</i>.[[exportName]]) is <b>false</b>, return <code>&quot;ambiguous&quot;</code>.</li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Return <i>starResolution</i>.</li>
          </ol>

          <div class="note">
            <p><span class="nh">NOTE</span> ResolveExport attempts to resolve an imported binding to the actual defining module
            and local binding name. The defining module may be the module represented by the <a href="/sec/sec-abstract-module-records.html">Module Record</a> this method was invoked on or some other module that is imported
            by that module. The parameter <var>resolveSet</var> is use to detect unresolved circular import/export paths. If a
            pair consisting of specific <a href="/sec/sec-abstract-module-records.html">Module Record</a> and <var>exportName</var> is
            reached that is already in <span style="font-family: Times New Roman"><i>resolveSet</i>, an</span> import circularity
            has been encountered. Before recursively calling ResolveExport, a pair consisting of <var>module</var> and
            <var>exportName</var> is added to <span style="font-family: Times New Roman"><i>resolveSet</i>.</span></p>

            <p>If a defining module is found a Record {[[module]]<i>,</i> [[bindingName]]} is returned. This record identifies the
            resolved binding of the originally requested export. If no definition was found or the request is found to be
            circular, <span class="value">null</span> is returned. If the request is found to be ambiguous, the string
            <code>&quot;ambiguous&quot;</code> is returned.</p>
          </div>
        </section>

        <section id="sec-moduledeclarationinstantiation">
          <h1><span class="secnum" id="sec-15.2.1.16.4"><a href="/sec/sec-moduledeclarationinstantiation.html" title="link to this section">15.2.1.16.4</a></span> ModuleDeclarationInstantiation( ) Concrete Method</h1>

          <p class="normalbefore">The ModuleDeclarationInstantiation concrete method of a <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a> performs the following steps:</p>

          <ol class="proc">
            <li>Let <i>module</i> be this <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a>.</li>
            <li>Let <i>realm</i> be <i>module</i>.[[Realm]].</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>realm</i> is not <b>undefined</b>.</li>
            <li>Let <i>code</i> be <i>module</i>.[[ECMAScriptCode]].</li>
            <li>If <i>module</i>.[[Environment]] is not <b>undefined</b>, return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<span style="font-family: sans-serif">empty</span>).</li>
            <li>Let <i>env</i> be <a href="/sec/sec-newmoduleenvironment.html">NewModuleEnvironment</a>(<i>realm</i>.[[globalEnv]]).</li>
            <li>Set <i>module</i>.[[Environment]] to <i>env</i>.</li>
            <li>For each String <i>required</i> that is an element of <i>module</i>.[[RequestedModules]] do,
              <ol class="block">
                <li>NOTE:  Before instantiating a module, all of the modules it requested must be available. An implementation may
                    perform this test at any time prior to this point,</li>
                <li>Let <i>requiredModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>, <i>required</i>).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>requiredModule</i>).</li>
                <li>Let <i>status</i> be <i>requiredModule</i>.ModuleDeclarationInstantiation().</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>status</i>).</li>
              </ol>
            </li>
            <li>For each ExportEntry Record <i>e</i> in <i>module</i>.[[IndirectExportEntries]], do
              <ol class="block">
                <li>Let <i>resolution</i> be <i>module</i>.<a href="/sec/sec-resolveexport.html">ResolveExport</a>(<i>e</i>.[[ExportName]],
                    &#xAB;&#x200D; &#xBB;, &#xAB;&#x200D; &#xBB;).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>resolution</i>).</li>
                <li>If <i>resolution</i> is <b>null</b> or <i>resolution</i> is <code>&quot;ambiguous&quot;</code>, throw a
                    <b>SyntaxError</b> exception.</li>
              </ol>
            </li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: all named exports from <i>module</i> are resolvable.</li>
            <li>Let <i>envRec</i> be <i>env</i>&#x2019;s <a href="/sec/sec-lexical-environments.html">EnvironmentRecord</a>.</li>
            <li>For each ImportEntry Record <i>in</i> in <i>module</i>.[[ImportEntries]], do
              <ol class="block">
                <li>Let <i>importedModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>,
                    <i>in</i>.[[ModuleRequest]]).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>importedModule</i>).</li>
                <li>If <i>in</i>.[[ImportName]] is <code>&quot;*&quot;</code>, then
                  <ol class="block">
                    <li>Let <i>namespace</i> be <a href="/sec/sec-getmodulenamespace.html">GetModuleNamespace</a>(<i>importedModule</i>).</li>
                    <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>module</i>).</li>
                    <li>Let <i>status</i> be <i>envRec</i>.CreateImmutableBinding(<i>in</i>.[[LocalName]], <b>true</b>).</li>
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>:  <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                    <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.InitializeBinding(<i>in</i>.[[LocalName]],
                        <i>namespace</i>).</li>
                  </ol>
                </li>
                <li>else,
                  <ol class="block">
                    <li>Let <i>resolution</i> be <i>importedModule</i>.<a href="/sec/sec-resolveexport.html">ResolveExport</a>(<i>in</i>.[[ImportName]], &#xAB;&#xA0;&#xBB;, &#xAB;&#x200D;
                        &#xBB;).</li>
                    <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>resolution</i>).</li>
                    <li>If <i>resolution</i> is <b>null</b> or <i>resolution</i> is <code>&quot;ambiguous&quot;</code>, throw a
                        <b>SyntaxError</b> exception.</li>
                    <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.<a href="/sec/sec-createimportbinding.html">CreateImportBinding</a>(<i>in</i>.[[LocalName]],
                        <i>resolution</i>.[[module]], <i>resolution</i>.[[bindingName]]).</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Let <i>varDeclarations</i> be the VarScopedDeclarations of <i>code</i>.</li>
            <li>For each element <i>d</i> in <i>varDeclarations</i> do
              <ol class="block">
                <li>For each element <i>dn</i> of the BoundNames of <i>d</i> do
                  <ol class="block">
                    <li>Let <i>status</i> be <i>envRec</i>.CreateMutableBinding(<i>dn</i>, <b>false</b>).</li>
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                    <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.InitializeBinding(<i>dn</i>, <b>undefined</b>).</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Let <i>lexDeclarations</i> be the LexicallyScopedDeclarations of <i>code</i>.</li>
            <li>For each element <i>d</i> in <i>lexDeclarations</i> do
              <ol class="block">
                <li>For each element <i>dn</i> of the BoundNames of <i>d</i> do
                  <ol class="block">
                    <li>If  IsConstantDeclaration of <i>d</i> is <b>true</b>, then
                      <ol class="block">
                        <li>Let <i>status</i> be <i>envRec</i>.CreateImmutableBinding(<i>dn</i>, <b>true</b>).</li>
                      </ol>
                    </li>
                    <li>Else,
                      <ol class="block">
                        <li>Let <i>status</i> be <i>envRec</i>.CreateMutableBinding(<i>dn</i>, <b>false</b>).</li>
                      </ol>
                    </li>
                    <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>status</i> is not an <a href="/sec/sec-completion-record-specification-type.html">abrupt completion</a>.</li>
                    <li>If <i>d</i> is a <i>GeneratorDeclaration</i> production or a <i>FunctionDeclaration</i> production, then
                      <ol class="block">
                        <li>Let <i>fo</i> be the result of performing  InstantiateFunctionObject  for <i>d</i> with argument
                            <i>env</i>.</li>
                        <li><a href="/sec/sec-call.html">Call</a> <i>envRec</i>.InitializeBinding(<i>dn</i>, <i>fo</i>).</li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Return <a href="/sec/sec-normalcompletion.html">NormalCompletion</a>(<span style="font-family:
                sans-serif">empty</span>).</li>
          </ol>
        </section>

        <section id="sec-moduleevaluation">
          <h1><span class="secnum" id="sec-15.2.1.16.5"><a href="/sec/sec-moduleevaluation.html" title="link to this section">15.2.1.16.5</a></span> ModuleEvaluation() Concrete Method</h1>

          <p class="normalbefore">The ModuleEvaluation concrete method of a <a href="/sec/sec-source-text-module-records.html">Source Text
          Module Record</a> performs the following steps:</p>

          <ol class="proc">
            <li>Let <i>module</i> be this <a href="/sec/sec-source-text-module-records.html">Source Text Module Record</a>.</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <a href="/sec/sec-moduledeclarationinstantiation.html">ModuleDeclarationInstantiation</a> has already been invoked on
                <i>module</i> and successfully completed.</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i>.[[Realm]] is not <b>undefined</b>.</li>
            <li>If <i>module.</i>[[Evaluated]] is <b>true</b>, return <b>undefined</b>.</li>
            <li>Set <i>module.</i>[[Evaluated]] to <b>true</b>.</li>
            <li>For each String <i>required</i> that is an element of <i>module</i>.[[RequestedModules]] do,
              <ol class="block">
                <li>Let <i>requiredModule</i> be <a href="/sec/sec-hostresolveimportedmodule.html">HostResolveImportedModule</a>(<i>module</i>, <i>required</i>).</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>requiredModule</i>).</li>
                <li>Let <i>status</i> be <i>requiredModule.</i>ModuleEvaluation().</li>
                <li><a href="/sec/sec-returnifabrupt.html">ReturnIfAbrupt</a>(<i>status</i>).</li>
              </ol>
            </li>
            <li>Let <i>moduleCxt</i> be a new <a href="/sec/sec-execution-contexts.html">ECMAScript code execution context</a>.</li>
            <li>Set the Function of <i>moduleCxt</i> to <b>null</b>.</li>
            <li>Set the <a href="/sec/sec-code-realms.html">Realm</a> of <i>moduleCxt</i> to <i>module</i>.[[Realm]].</li>
            <li><a href="/sec/sec-algorithm-conventions.html">Assert</a>: <i>module</i> has been linked and declarations in its module
                environment have been instantiated.</li>
            <li>Set the <a href="/sec/sec-execution-contexts.html">VariableEnvironment</a> of <i>moduleCxt</i> to
                <i>module</i>.[[Environment]].</li>
            <li>Set the <a href="/sec/sec-execution-contexts.html">LexicalEnvironment</a> of <i>moduleCxt</i> to
                <i>module</i>.[[Environment]].</li>
            <li><a href="/sec/sec-execution-contexts.html">Suspend</a> <a href="/sec/sec-execution-contexts.html">the currently running execution
                context</a>.</li>
            <li>Push <i>moduleCxt</i> on to <a href="/sec/sec-execution-contexts.html">the execution context stack</a>; <i>moduleCxt</i> is
                now <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
            <li>Let <i>result</i> be the result of evaluating <i>module</i>.[[ECMAScriptCode]].</li>
            <li><a href="/sec/sec-execution-contexts.html">Suspend</a> <i>moduleCxt</i> and remove it from <a href="/sec/sec-execution-contexts.html">the execution context stack</a>.</li>
            <li>Resume the context that is now on the top of <a href="/sec/sec-execution-contexts.html">the execution context stack</a> as
                <a href="/sec/sec-execution-contexts.html">the running execution context</a>.</li>
            <li>Return <a href="/sec/sec-completion-record-specification-type.html">Completion</a>(<i>result</i>).</li>
          </ol>
        </section>
      
  </div>
  <script src="/lib/bundle.js"></script>
</body>
</html>

